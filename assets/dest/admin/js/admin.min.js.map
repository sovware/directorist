{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/js/admin/admin.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","selector1","toggle_section","show_if_value","subject_elm","terget_elm","val","show","hide","select2","placeholder","atbdp_admin_data","i18n_text","icon_choose_text","allowClear","templateResult","selected","id","icon_type","element","text","tooltip","fadeIn","on","$s_wrap","atbdp_do_ajax","ElementToShowLoadingIconAfter","ActionName","arg","CallBackHandler","data","search","nonceName","nonce","jQuery","ajax","type","url","ajaxurl","beforeSend","insertAfter","success","remove","window","outerWidth","length","sortable","axis","opacity","social_wrap","currentItems","ID","iconBindingElement","each","index","e","attr","find","append","document","this","elementToRemove","event","preventDefault","swal","title","confirmation_text","ask_conf_sl_lnk_del_txt","showCancelButton","confirmButtonColor","confirmButtonText","confirm_delete","closeOnConfirm","isConfirm","slideUp","deleted","timer","showConfirmButton","$this","response","after","css","display","location","import_page_link","has_tagline","fadeOut","is","children","prop","$sibling","siblings","directory_type","el","push","action","post_id","term_id","post","empty","querySelectorAll","forEach","getAttribute","body","addEventListener","target","parentNode","matches","classList","add","ready","avg_review","logged_count","_nonce","email","sender_email","subject","message","system_info_url","html","error","console","log","alert","frame","selection","metaBox","addImgLink","delImgLink","imgContainer","wp","media","upload_image","button","choose_image","library","multiple","state","toJSON","removeClass","open","AdminAssetPath","addClass","parent","imageUpload","frames","file_frame","select_prv_img","insert_prv_img","prv_image","first","prv_url","prv_img_url","page","json","undefined","trim","atbdp","edit","delete_permanently","prev","announcement_to","announcement_recepents_section","submit_button","form_feedback","prepend","announcement_is_sending","to","recepents","expiration","send_to_email","fields_elm","elm","default","form_data","FormData","field","processData","contentType","atbds_tabParent","$href","toolTipLabel","admin_listing_form","closest","defaultSubmitDom","type_id","setTimeout","reload","listing_id","assetsNeedToWorkInVirtualDom","a","style","cursor","stopPropagation","ul","main","nextElementSibling","item_a","section","ela","ind","element1","getElementById","$temp","select","execCommand","toggleClass","next","toggle","optionText","parents","hasClass","data_target","current_item","slideToggle","data_parent","is_sending","form","username","password","has_previous_subscriptions","status","feedback","alert_type","alert_message","form_response_page","themes","license_data","plugins","total_theme","total_plugin","theme_title","theme","checkbox","item_id","label","list_action","li","plugin_title","extension","skiped_themes","skiped_plugins","new_theme_count","new_plugin_count","files_download_states","succeeded_plugin_downloads","failed_plugin_downloads","succeeded_theme_downloads","failed_theme_downloads","downloading_files","file","plugin","download_files","file_list","counter","callback","next_index","file_item","file_type","list_item","icon_elm","download_item","msg","all_thmes_are_invalid","failed_download_themes_count","all_plugins_are_invalid","failed_download_plugins_count","all_products_are_invalid","finish_btn","plugin_key","button_default_html","self","massage","item_key","btn_default_html","ext_is_installing","purchase_refresh_btn_wrapper","auth_section","animate","width","submit_btn","close_btn","feedback_type","hard_logout","is_bulk_processing","task","plugins_items","is_checked","plugin_items","uninstalling","install_plugins","install_btn","theme_is_activating","theme_stylesheet"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,K,8CC62C3CC,EACoBC,E,whCAhB9B,SAASC,EAAeC,EAAeC,EAAaC,GACxCF,IAAkBC,EAAYE,MAC1BD,EAAWE,OAEXF,EAAWG,QAl7C3B,SAAUR,GAeFA,EAAE,kBAAkBS,QAAQ,CACpBC,YAAaC,iBAAiBC,UAAUC,iBACxCC,YAAY,EACZC,eAfR,SAAuBC,GACf,OAAKA,EAASC,GAGAjB,EAAE,sBAAD,OACeW,iBAAiBO,UADhC,YAC6CF,EAASG,QAAQlC,MAD9D,qBAEC+B,EAASI,KAFV,YAFAJ,EAASI,QAgBhCpB,EAAE,2BAA2BqB,UAGVrB,EAAE,mBAAmBM,OAEhCN,EAAE,eAAesB,OAAO,KAEhCtB,EAAE,uBAAuBuB,GAAG,SAAS,WAC7BvB,EAAE,eAAesB,OAAO,QAIhC,IAAME,EAAUxB,EAAE,mCAoHlB,SAASyB,EAAcC,EAA+BC,EAAYC,EAAKC,GAC/D,IAAIC,EACAH,IAAYG,EAAO,UAAH,OAAaH,IAC7BC,IAAKE,EAAO,GAAH,OAAMF,EAAN,mBAAoBD,IAC7BC,IAAQD,IAAYG,EAAOF,GAGrBE,EAAKC,OAAOpB,iBAAiBqB,WAC/B,IACAF,EAAO,GAAH,OAAMA,EAAN,YAAcnB,iBAAiBqB,UAA/B,YAA4CrB,iBAAiBsB,QAGzEC,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,OACAS,WAJI,WAKIL,OAAO,4CAA4CM,YAC3Cd,IAGhBe,QATI,SASIX,GACAI,OAAO,uBAAuBQ,SAC9Bb,EAAgBC,MA1IpCa,OAAOC,WAAa,MACZpB,EAAQqB,QACJrB,EAAQsB,SAAS,CACTC,KAAM,IACNC,QAAS,QAMjChD,EAAE,QAAQuB,GAAG,QAAS,iBAAiB,WAC/B,IAAM0B,EAAcjD,EAAE,mCAChBkD,EAAelD,EAAE,+BAA+B6C,OAChDM,EAAK,MAAH,OAASD,GACXE,EAAqBlB,OAAO,iBAElClC,EAAE,+BAA+BqD,MAAK,SAASC,EAAOnC,GAC9C,IAAMoC,EAAIvD,EAAEmB,GACZoC,EAAEC,KAAK,KAAP,mBAAyBF,IACzBC,EAAEE,KAAK,UAAUD,KAAK,OAAtB,iBAAwCF,EAAxC,UACAC,EAAEE,KAAK,uBAAuBD,KAAK,OAAnC,iBAAqDF,EAArD,WACAC,EAAEE,KAAK,sBAAsBD,KAAK,UAAWF,MAGrD7B,EAAc2B,EAAoB,4BAA6BD,GAAI,SAASrB,GACpEmB,EAAYS,OAAO5B,SAKnC9B,EAAE2D,UAAUpC,GAAG,QAAS,sBAAsB,SAASgC,GAC/C,IAAMtC,EAAKjB,EAAE4D,MAAM9B,KAAK,MAClB+B,EAAkB7D,EAAE,gBAAD,OAAiBiB,IAC1C6C,MAAMC,iBAENC,KACQ,CACQC,MAAOtD,iBAAiBC,UAAUsD,kBAClC9C,KAAMT,iBAAiBC,UAAUuD,wBACjC/B,KAAM,UACNgC,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB3D,iBAAiBC,UAAU2D,eAC9CC,gBAAgB,IAExB,SAASC,GACGA,IAEIZ,EAAgBa,QAAQ,QAAQ,WACxBb,EAAgBnB,SAEhB1C,EAAE,+BAA+BqD,MAAK,SAASC,EAAOnC,GAC9C,IAAMoC,EAAIvD,EAAEmB,GACZoC,EAAEC,KAAK,KAAP,mBAAyBF,IACzBC,EAAEE,KAAK,UAAUD,KAAK,OAAtB,iBAAwCF,EAAxC,UACAC,EAAEE,KAAK,uBAAuBD,KACtB,OADR,iBAEkBF,EAFlB,WAIAC,EAAEE,KAAK,sBAAsBD,KAAK,UAAWF,SAK7DU,KAAK,CACGC,MAAOtD,iBAAiBC,UAAU+D,QAElCvC,KAAM,UACNwC,MAAO,IACPC,mBAAmB,WAQ3D7E,EAAE,wBAAwBuB,GAAG,SAAS,SAASuC,GACvCA,EAAMC,iBACN,IAAMe,EAAQ9E,EAAE4D,MAGhBnC,EAAcqD,EAAO,6BAA8B,MAAM,SAASC,GACtDA,EAAStC,SACLqC,EAAME,MAAN,aAAkBD,EAASjD,KAA3B,eAMxB9B,EAAE,sDAAsDuB,GAAG,UAAU,SAASuC,GACtEA,EAAMC,iBACN/D,EAAE,gBAAgBQ,OAKlBiB,EAHczB,EAAE4D,MAGK,0BAA2B,MAAM,SAASmB,GACnDA,EAAStC,SACLzC,EAAE,sBAAsBgF,MAAxB,8BAAqDD,EAASjD,KAA9D,YAIhB9B,EAAE,uBAAuBiF,IAAI,CACrBC,QAAS,YAKzBlF,EAAE,wCAAwCuB,GAAG,UAAU,SAASuC,GACxDA,EAAMC,iBACNpB,OAAOwC,SAAWxE,iBAAiByE,oBAjJnD,CAgLGlD,QAGH,SAAUlC,GAGF,IAAMqF,EAAcrF,EAAE,gBAAgBM,MAClBN,EAAE,gBAAgBM,OACnB+E,EACXrF,EAAE,4BAA4BsB,SAE9BtB,EAAE,4BAA4BsF,UAGtCtF,EAAE,8BAA8BuB,GAAG,UAAU,WACrCvB,EAAE4D,MAAM2B,GAAG,YACDvF,EAAE,4BAA4BsB,SAC9BtB,EAAE,4BAA4BsF,aAIhDtF,EAAE,gBAAgBQ,OAEC,UADAR,EAAE,yBAAyBM,QAEtCN,EAAE,UAAUQ,OACZR,EAAE,gBAAgBO,QAE1BP,EAAE,+BAA+BuB,GAAG,SAAS,WACrC,IAAMuD,EAAQ9E,EAAE4D,MAC0C,GAA1DkB,EAAMU,SAAS,wBAAwBC,KAAK,WAClCzF,EAAE,IAAD,OAAK8E,EAAMhD,KAAK,YAAavB,OAC9BP,EAAE,IAAD,OAAK8E,EAAMhD,KAAK,YAAatB,OACxC,IAAMkF,EAAWZ,EAAMa,SAAS,SAChCD,EAASF,SAAS,wBAAwBC,KAAK,WAAW,GAC1DzF,EAAE,IAAD,OAAK0F,EAAS5D,KAAK,YAAatB,UAIzCR,EAAE,iCAAiCuB,GAAG,UAAU,SAASuC,GACjD,IAAMjB,EAAS7C,EAAE,+CACXiB,EAAK,GACL2E,EAAiB5F,EAAE,iCAAiCM,MAC1DuC,EAAOQ,MAAK,SAACwC,EAAIvC,GACTrC,EAAG6E,KAAK9F,EAAEsD,GAAOhD,UAEzB,IAAMwB,EAAO,CACLiE,OAAQ,+BACRC,QAAShG,EAAE,YAAYM,MACvB2F,QAAShF,EACT2E,kBAER5F,EAAEkG,KAAK5D,QAASR,GAAM,SAASiD,GACvB,GAAIA,EAAU,CACFA,EAAW,gKAAH,OAERA,EAFQ,kFAKZ/E,EAAE,iCACOmG,QACAzC,OAAOqB,GAEapB,SAASyC,iBAAiB,iBAClCC,SAAQ,SAASR,GACgB,MAAlCA,EAAGS,aAAa,eACZ3C,SAAS4C,KAAKC,iBACN,aACA,SAASjD,GACD,QACckD,EAAWlD,EAAXkD,OACNA,GAAUA,GAAU7C,KACpB6C,EAASA,EAAOC,WAEZD,EAAOE,QAAQ,kBACXd,EAAGe,UAAUC,IACL,0BAKhC,WAOhC7G,EAAE,iCAAiCmG,cAM3DnG,EAAE2D,UAAUmD,OAAM,WACV,IAAMjE,EAAS7C,EAAE,+CACXiB,EAAK,GACL2E,EAAiB5F,EAAE,iCAAiCM,MAC1DuC,EAAOQ,MAAK,SAACwC,EAAIvC,GACTrC,EAAG6E,KAAK9F,EAAEsD,GAAOhD,UAEzB,IAAMwB,EAAO,CACLiE,OAAQ,+BACRC,QAAShG,EAAE,YAAYM,MACvB2F,QAAShF,EACT2E,kBAER5F,EAAEkG,KAAK5D,QAASR,GAAM,SAASiD,GACvB,GAAIA,EAAU,CACFA,EAAW,oKAAH,OAENA,EAFM,sFAKZ/E,EAAE,iCACOmG,QACAzC,OAAOqB,GAEapB,SAASyC,iBAAiB,iBAClCC,SAAQ,SAASR,GACgB,MAAlCA,EAAGS,aAAa,eACZ3C,SAAS4C,KAAKC,iBACN,aACA,SAASjD,GACD,QACckD,EAAWlD,EAAXkD,OACNA,GAAUA,GAAU7C,KACpB6C,EAASA,EAAOC,WAEZD,EAAOE,QAAQ,kBACXd,EAAGe,UAAUC,IACL,0BAKhC,aAUxD,IAAME,EAAa/G,EAAE,+BAA+BQ,OAC9CwG,EAAehH,EAAE,sBAAsBQ,OAC4B,mBAArER,EAAE,yDAAyDM,OACvDyG,EAAWxG,OACXyG,EAAaxG,QAC2D,eAArER,EAAE,yDAAyDM,OAC9D0G,EAAazG,OACbwG,EAAWvG,QAC6D,qBAArER,EAAE,yDAAyDM,QAC9DyG,EAAWxG,OACXyG,EAAazG,QAErBP,EAAE,yDAAyDuB,GAAG,UAAU,WAC1C,mBAAlBvB,EAAE4D,MAAMtD,OACJyG,EAAWxG,OACXyG,EAAaxG,QACQ,eAAlBR,EAAE4D,MAAMtD,OACX0G,EAAazG,OACbwG,EAAWvG,QACU,qBAAlBR,EAAE4D,MAAMtD,QACXyG,EAAWxG,OACXyG,EAAazG,WA8BxBP,EAAE,2BAA2BuF,GAAG,aAC7BvF,EAAE,0BAA0BQ,OAEpCR,EAAE,sBAAsBuB,GAAG,SAAS,SAASgC,GACjCvD,EAAE,2BAA2BuF,GAAG,YAC5BvF,EAAE,0BAA0BO,OAE5BP,EAAE,0BAA0BQ,UAI5CR,EAAE,2BAA2BqB,UAGVrB,EAAE,mBAAmBM,OAEhCN,EAAE,eAAesB,OAAO,KAEhCtB,EAAE,uBAAuBuB,GAAG,SAAS,WAC7BvB,EAAE,eAAesB,OAAO,QAIhC,IAAME,EAAUxB,EAAE,mCAkNlB,SAASyB,EAAcC,EAA+BC,EAAYC,EAAKC,GAC/D,IAAIC,EACAH,IAAYG,EAAO,UAAH,OAAaH,IAC7BC,IAAKE,EAAO,GAAH,OAAMF,EAAN,mBAAoBD,IAC7BC,IAAQD,IAAYG,EAAOF,GAGrBE,EAAKC,OAAOpB,iBAAiBqB,WAC/B,IACAF,EAAO,GAAH,OAAMA,EAAN,YAAcnB,iBAAiBqB,UAA/B,YAA4CrB,iBAAiBsB,QAGzEC,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,OACAS,WAJI,WAKIL,OAAO,4CAA4CM,YAC3Cd,IAGhBe,QATI,SASIX,GACAI,OAAO,uBAAuBQ,SAC9Bb,EAAgBC,MAxOpCa,OAAOC,WAAa,MACZpB,EAAQqB,QACJrB,EAAQsB,SAAS,CACTC,KAAM,IACNC,QAAS,QAOjChD,EAAE,QAAQuB,GAAG,QAAS,iBAAiB,WAC/B,IAAM2B,EAAelD,EAAE,+BAA+B6C,OAChDM,EAAK,MAAH,OAASD,GACXE,EAAqBlB,OAAO,iBAElClC,EAAE,+BAA+BqD,MAAK,SAASC,EAAOnC,GAC9C,IAAMoC,EAAIvD,EAAEmB,GACZoC,EAAEC,KAAK,KAAP,mBAAyBF,IACzBC,EAAEE,KAAK,UAAUD,KAAK,OAAtB,iBAAwCF,EAAxC,UACAC,EAAEE,KAAK,uBAAuBD,KAAK,OAAnC,iBAAqDF,EAArD,WACAC,EAAEE,KAAK,sBAAsBD,KAAK,UAAWF,MAGrD7B,EAAc2B,EAAoB,4BAA6BD,GAAI,SAASrB,GACpEN,EAAQkC,OAAO5B,SAK/B9B,EAAE2D,UAAUpC,GAAG,QAAS,sBAAsB,SAASgC,GAC/C,IAAMtC,EAAKjB,EAAE4D,MAAM9B,KAAK,MAClB+B,EAAkB7D,EAAE,gBAAD,OAAiBiB,IAC1C6C,MAAMC,iBAENC,KACQ,CACQC,MAAOtD,iBAAiBC,UAAUsD,kBAClC9C,KAAMT,iBAAiBC,UAAUuD,wBACjC/B,KAAM,UACNgC,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB3D,iBAAiBC,UAAU2D,eAC9CC,gBAAgB,IAExB,SAASC,GACGA,IAEIZ,EAAgBa,QAAQ,QAAQ,WACxBb,EAAgBnB,SAEhB1C,EAAE,+BAA+BqD,MAAK,SAASC,EAAOnC,GAC9C,IAAMoC,EAAIvD,EAAEmB,GACZoC,EAAEC,KAAK,KAAP,mBAAyBF,IACzBC,EAAEE,KAAK,UAAUD,KAAK,OAAtB,iBAAwCF,EAAxC,UACAC,EAAEE,KAAK,uBAAuBD,KACtB,OADR,iBAEkBF,EAFlB,WAIAC,EAAEE,KAAK,sBAAsBD,KAAK,UAAWF,SAK7DU,KAAK,CACGC,MAAOtD,iBAAiBC,UAAU+D,QAElCvC,KAAM,UACNwC,MAAO,IACPC,mBAAmB,WAQ3D7E,EAAE,wBAAwBuB,GAAG,SAAS,SAASuC,GACvCA,EAAMC,iBACN,IAAMe,EAAQ9E,EAAE4D,MAGhBnC,EAAcqD,EAAO,6BAA8B,MAAM,SAASC,GACtDA,EAAStC,SACLqC,EAAME,MAAN,aAAkBD,EAASjD,KAA3B,eAMxB9B,EAAE,sDAAsDuB,GAAG,UAAU,SAASuC,GACtEA,EAAMC,iBACN/D,EAAE,gBAAgBQ,OAKlBiB,EAHczB,EAAE4D,MAGK,0BAA2B,MAAM,SAASmB,GACnDA,EAAStC,SACLzC,EAAE,sBAAsBgF,MAAxB,8BAAqDD,EAASjD,KAA9D,YAIhB9B,EAAE,uBAAuBiF,IAAI,CACrBC,QAAS,YAKzBlF,EAAE,kCAAkCuB,GAAG,SAAS,SAASuC,GACjDA,EAAMC,iBAED/D,EAAE,wBAAwBM,MAI1BN,EAAE,wBAAwBM,MAI1BN,EAAE,wBAAwBM,MAI/BN,EAAEmC,KAAK,CACCC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAM,CACEiE,OAAQ,mBACRkB,OAAQjH,EAAE,sBAAsBM,MAChC4G,MAAOlH,EAAE,wBAAwBM,MACjC6G,aAAcnH,EAAE,yBAAyBM,MACzC8G,QAASpH,EAAE,wBAAwBM,MACnC+G,QAASrH,EAAE,wBAAwBM,MACnCgH,gBAAiBtH,EAAE,0BAA0BM,OAErDiC,WAZD,WAaSvC,EAAE,kCAAkCuH,KAAK,YAEjD9E,QAfD,SAeSX,GACIA,EAAKW,UACDzC,EAAE,kCAAkCuH,KAAK,cACzCvH,EAAE,wBAAwBuH,KAAK,uBAG/CC,MArBD,SAqBO1F,GACE2F,QAAQC,IAAI5F,MAzBpB6F,MAAM,iCAJNA,MAAM,+BAJNA,MAAM,oCAyCtB3H,EAAE,iBAAiBuB,GAAG,SAAS,SAASgC,GAqBhC,OApBAA,EAAEQ,iBACF/D,EAAEmC,KAAK,CACCC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAM,CACEiE,OAAQ,eACRkB,OAAQjH,EAAE4D,MAAMJ,KAAK,eAE7Bf,QAPD,SAOSsC,GACA/E,EAAE,0BAA0BuH,KAAKxC,EAASjD,KAAKuF,SAC/CrH,EAAE,4CAA4CM,IAAIyE,EAASjD,KAAKO,KAChErC,EAAE,8BACOwD,KAAK,OAAQuB,EAASjD,KAAKO,KAC3B4C,IAAI,UAAW,iBAEhCuC,MAdD,SAcOzC,QAKP,KAGf/E,EAAE,eAAeuB,GAAG,SAAS,SAASgC,GAqB9B,OApBAA,EAAEQ,iBACF/D,EAAEmC,KAAK,CACCC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAM,CACEiE,OAAQ,aACRkB,OAAQjH,EAAE4D,MAAMJ,KAAK,eAE7Bf,QAPD,SAOSsC,GACA/E,EAAE,0BAA0BuH,KAAKxC,EAASjD,MAC1C9B,EAAE,4CAA4CM,IAAI,IAClDN,EAAE,8BACOwD,KAAK,OAAQ,KACbyB,IAAI,UAAW,SAEhCuC,MAdD,SAcOzC,QAKP,KAIf/E,EAAE,wCAAwCuB,GAAG,UAAU,SAASuC,GACxDA,EAAMC,iBACNpB,OAAOwC,SAAWxE,iBAAiByE,oBAtanD,CAqcGlD,QAGH,SAAUlC,GAEF,IAAI4H,EACAC,EAEEC,EAAU9H,EAAE,qBACZ+H,EAAaD,EAAQrE,KAAK,sBAC1BuE,EAAaF,EAAQrE,KAAK,sBAC1BwE,EAAeH,EAAQrE,KAAK,0BAGlCsE,EAAWxG,GAAG,SAAS,SAASuC,GACxBA,EAAMC,iBAGF6D,IAMJA,EAAQM,GAAGC,MAAM,CACTlE,MAAOtD,iBAAiBC,UAAUwH,aAClCC,OAAQ,CACAjH,KAAMT,iBAAiBC,UAAU0H,cAEzCC,QAAS,CAAEnG,KAAM,SACjBoG,UAvBO,KA2BTjH,GAAG,UAAU,WAIHsG,EAAYD,EACHa,QACA5J,IAAI,aACJ6J,SAQjB,IAAI5G,EAAO,GAG4B,IAAnC9B,EAAE,sBAAsB6C,QACpBoF,EAAaV,KAAK,IAKlBvH,EAAE6H,GAAWxE,MAAK,WAGQ,UAAdO,KAAKxB,OAGDN,GAAQ,kCACRA,GAAQ,qFAAJ,OACI8B,KAAK3C,GADT,MAGJa,GAAQ,gDAAJ,OACI8B,KAAKvB,IADT,uGAyBpB4F,EAAavE,OAAO5B,GAM5BkG,EAAWW,YAAY,aAhFvBf,EAAMgB,UAuFtBZ,EAAWzG,GAAG,SAAS,SAASuC,GACxBA,EAAMC,iBAENkE,EAAaV,KAAb,oBACqB5G,iBAAiBkI,eADtC,gDAIAb,EAAWc,SAAS,aAI5B9I,EAAE2D,UAAUpC,GAAG,QAAS,iBAAiB,SAASgC,GAC1CA,EAAEQ,iBACF/D,EAAE4D,MACOmF,SACArG,SAE8B,IAAnC1C,EAAE,sBAAsB6C,SACpBoF,EAAaV,KACL,oBACQ5G,iBAAiBkI,eADzB,mHAKRb,EAAWc,SAAS,cAIpC,IAcIE,EAdE3D,EAAcrF,EAAE,gBAAgBM,MAetC,GAdoBN,EAAE,gBAAgBM,OACnB+E,EACXrF,EAAE,4BAA4BsB,SAE9BtB,EAAE,4BAA4BsF,UAGtCtF,EAAE,8BAA8BuB,GAAG,UAAU,WACrCvB,EAAE4D,MAAM2B,GAAG,YACDvF,EAAE,4BAA4BsB,SAC9BtB,EAAE,4BAA4BsF,aAI5C0D,EACIA,EAAYJ,WADpB,CA2FA,GAtFA5I,EAAE,kBAAkBuB,GAAG,SAAS,SAASJ,GACjCA,EAAQ4C,kBAERiF,EAAcd,GAAGC,MAAMc,OAAOC,WAAahB,GAAGC,MAAM,CAC5ClE,MAAOtD,iBAAiBC,UAAUuI,eAClCd,OAAQ,CACAjH,KAAMT,iBAAiBC,UAAUwI,mBAGrCR,OAEZI,EAAYzH,GAAG,UAAU,WACjB8H,UAAYL,EACHP,QACA5J,IAAI,aACJyK,QACAZ,SACTa,QAAUF,UAAUpI,GACpBuI,YAAcH,UAAUhH,IAExBrC,EAAE,oBAAoBM,IAAIiJ,SAC1BvJ,EAAE,2BAA2BwD,KAAK,MAAOgG,aACzCxJ,EAAE,kBAAkBuH,KAAK,wBACzBvH,EAAE,oBAAoBO,UAG9ByI,EAAYJ,UAGpB5I,EAAE,oBAAoBuB,GAAG,SAAS,SAASgC,GACnCvD,EAAE4D,MAAMpD,OACRR,EAAE,oBAAoBwD,KAAK,QAAS,IACpCxD,EAAE,2BAA2BwD,KAAK,MAAO,IACzCD,EAAEQ,oBAEuC,KAA7C/D,EAAE,2BAA2BwD,KAAK,OAC9BxD,EAAE,oBAAoBQ,OAC0B,KAA7CR,EAAE,2BAA2BwD,KAAK,QACrCxD,EAAE,oBAAoBO,OAI9BP,EAAE,gBAAgBQ,OAEC,UADAR,EAAE,yBAAyBM,QAEtCN,EAAE,UAAUQ,OACZR,EAAE,gBAAgBO,QAE1BP,EAAE,+BAA+BuB,GAAG,SAAS,WACrC,IAAMuD,EAAQ9E,EAAE4D,MAC0C,GAA1DkB,EAAMU,SAAS,wBAAwBC,KAAK,WAClCzF,EAAE,IAAD,OAAK8E,EAAMhD,KAAK,YAAavB,OAC9BP,EAAE,IAAD,OAAK8E,EAAMhD,KAAK,YAAatB,OACxC,IAAMkF,EAAWZ,EAAMa,SAAS,SAChCD,EAASF,SAAS,wBAAwBC,KAAK,WAAW,GAC1DzF,EAAE,IAAD,OAAK0F,EAAS5D,KAAK,YAAatB,UAMzCR,EAAE,iCAAiCuB,GAAG,UAAU,SAASuC,GACjD9D,EAAE,6BAA6B0D,OAAO,+BAEtC,IAAMb,EAAS7C,EAAE,+CACXiB,EAAK,GACX4B,EAAOQ,MAAK,SAACwC,EAAIvC,GACTrC,EAAG6E,KAAK9F,EAAEsD,GAAOhD,UAEzB,IAAMwB,EAAO,CACLiE,OAAQ,+BACRC,QAAShG,EAAE,6BAA6B8B,KAAK,WAC7CmE,QAAShF,GAEjBjB,EAAEkG,KAAK5D,QAASR,GAAM,SAASiD,GACP,MAAZA,EACI/E,EAAE,6BAA6BQ,OAE/BR,EAAE,6BAA6BO,OAEvCP,EAAE,6BAA6BuH,KAAKxC,MAE5C/E,EAAE,sCAAsCQ,UAG5CqC,EAAS7C,EAAE,+CACH,CACJA,EAAE,sCAAsCuH,KAAK,+BAE7C,IAAI1E,EAAS7C,EAAE,+CACTiB,EAAK,GACX4B,EAAOQ,MAAK,SAACwC,EAAIvC,GACTrC,EAAG6E,KAAK9F,EAAEsD,GAAOhD,UAEzB,IAAMwB,EAAO,CACLiE,OAAQ,wCACRC,QAAShG,EAAE,sCAAsC8B,KAAK,WACtDmE,QAAShF,GAGjBjB,EAAEkG,KAAK5D,QAASR,GAAM,SAASiD,GACvB/E,EAAE,sCAAsCuH,KAAKxC,MAI7D,IAAMgC,EAAa/G,EAAE,+BAA+BQ,OAC9CwG,EAAehH,EAAE,sBAAsBQ,OAC4B,mBAArER,EAAE,yDAAyDM,OACvDyG,EAAWxG,OACXyG,EAAaxG,QAC2D,eAArER,EAAE,yDAAyDM,OAC9D0G,EAAazG,OACbwG,EAAWvG,QAC6D,qBAArER,EAAE,yDAAyDM,QAC9DyG,EAAWxG,OACXyG,EAAazG,QAErBP,EAAE,yDAAyDuB,GAAG,UAAU,WAC1C,mBAAlBvB,EAAE4D,MAAMtD,OACJyG,EAAWxG,OACXyG,EAAaxG,QACQ,eAAlBR,EAAE4D,MAAMtD,OACX0G,EAAazG,OACbwG,EAAWvG,QACU,qBAAlBR,EAAE4D,MAAMtD,QACXyG,EAAWxG,OACXyG,EAAazG,WA6F7BP,EAAE,kCAAkCuB,GAAG,SAAS,SAASgC,GAjEzD,IAAqCkG,EACzBP,EAEAQ,EA+DJnG,EAAEQ,iBAlE2B0F,EAoED,kBA9DxBE,IAAcT,IAKlBA,EAAahB,GAAGC,MAAMc,OAAOC,WAAahB,GAAGC,MAAM,CAC3CP,MAAO,OACPa,MAAO,SACPD,UAAU,KAIPjH,GAAG,UAAU,WAShB,GAPAmI,EAAOR,EACET,QACA5J,IAAI,aACJyK,QACAZ,WAGL1I,EAAE4J,KAAKF,EAAKrH,IAAIQ,QAAU,GAI9B,GAAY,YAAR4G,EAAoB,CAChB,IAAMlC,EACE,UAAG,uJAAH,OAGuBmC,EAAKrH,IAH5B,8DAI+CqH,EAAKzI,GAJpD,8BAMOyI,EAAKrH,IANZ,2CAO0BqH,EAAKzI,GAP/B,yCAQQ4I,MAAMC,KARd,2FAWQJ,EAAKzI,GAXb,aAYK4I,MAAME,mBAZX,qBAgBR/J,EAAE,iBAAiB0D,OAAO6D,QAE1BvH,EAAE,8BAA8BM,IAAIoJ,EAAKzI,IACzCjB,EAAE,mCAAmCuH,KAArC,oBAEgBmC,EAAKrH,IAFrB,qGAShB6G,EAAWN,QAtDHM,EAAWN,UAgE3B5I,EAAE,WAAWuB,GAAG,SAAS,WACjBvB,EAAE,uCAAuCwD,KAAK,MAAO,IACrDxD,EAAE,mBAAmB0C,YAG7B1C,EAAE2D,UAAUpC,GAAG,QAAS,mBAAmB,SAASgC,GAC5CA,EAAEQ,iBACF/D,EAAE4D,MAAMpD,OACRR,EAAE4D,MACOoG,KAAK,OACLtH,SACT1C,EAAE,8BAA8BwD,KAAK,QAAS,OAMtD,IAAMyG,EAAkBjK,EAAE,kCACpBkK,EAAiClK,EAAE,2BACzCE,EAAe,gBAAiB+J,EAAiBC,GACjDD,EAAgB1I,GAAG,UAAU,WACrBrB,EAAe,gBAAiBF,EAAE4D,MAAOsG,MAGjD,IAAMC,EAAgBnK,EAAE,yCAClBoK,EAAgBpK,EAAE,+BACxBoK,EAAcC,QAAQ,6CAEtB,IAAIC,GAA0B,EAG9BH,EAAc5I,GAAG,SAAS,WAClB,GAAI+I,EACI7C,QAAQC,IAAI,sBADpB,CAKA,IAAM6C,EAAKvK,EAAE,kCACPwK,EAAYxK,EAAE,yCACdoH,EAAUpH,EAAE,sCACZqH,EAAUrH,EAAE,yCACZyK,EAAazK,EAAE,yCACf0K,EAAgB1K,EAAE,4CAElB2K,EAAa,CACXJ,GAAI,CAAEK,IAAKL,EAAItL,MAAOsL,EAAGjK,MAAOuK,QAAS,YACzCL,UAAW,CAAEI,IAAKJ,EAAWvL,MAAOuL,EAAUlK,MAAOuK,QAAS,MAC9DzD,QAAS,CAAEwD,IAAKxD,EAASnI,MAAOmI,EAAQ9G,MAAOuK,QAAS,IACxDxD,QAAS,CAAEuD,IAAKvD,EAASpI,MAAOoI,EAAQ/G,MAAOuK,QAAS,IACxDJ,WAAY,CAAEG,IAAKH,EAAYxL,MAAOwL,EAAWnK,MAAOuK,QAAS,GACjEH,cAAe,CAAEE,IAAKF,EAAcpK,MAAOrB,MAAOyL,EAAcpK,MAAOuK,QAAS,IAIlFC,EAAY,IAAIC,SAItB,IAAKC,SADLF,EAAUpH,OAAO,SAAU,2BACbiH,EACNG,EAAUpH,OAAOsH,MAAOL,EAAWK,OAAO/L,OAGlDqL,GAA0B,EAC1BpI,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNG,aAAa,EACbC,aAAa,EACb3I,WANI,WAQI6H,EACS3G,KAAK,0BACL8D,KAAK,0EAEtB9E,QAZI,SAYIsC,GAEAuF,GAA0B,EAEtBvF,EAASsC,SACL+C,EACS3G,KAAK,0BACL8D,KAFT,kCAEyCxC,EAASsC,QAFlD,YAKhBG,MAtBI,SAsBEA,GACEC,QAAQC,IAAI,CAAEF,UACd8C,GAA0B,SAalDtK,EAAE,6BAA6BuB,GAAG,SAAS,SAASgC,GAC5CA,EAAEQ,iBAEF0D,QAAQC,IAAI1H,EAAE4D,MAAM9B,KAAK,YACzB,IAAMqJ,EAAkBnL,EAAE4D,MACjBmF,SACAA,SACAtF,KAAK,cACR2H,EAAQpL,EAAE4D,MAAMJ,KAAK,QAK3B,OAJAxD,EAAEmL,GAAiBxC,YAAY,UAC/B3I,EAAE4D,MAAMkF,SAAS,UACjBrB,QAAQC,IAAI1H,EAAE,uDAENA,EAAE4D,MAAM9B,KAAK,YACb,IAAK,0BACG9B,EAAE,mEAAmE2I,YAC7D,eAER3I,EAAE,wDAAD,OAAyDoL,IAAStC,SAC3D,eAER,MACR,IAAK,wBACG9I,EAAE,iEAAiE2I,YAC3D,eAER3I,EAAE,sDAAD,OAAuDoL,IAAStC,SACzD,mBAShC9I,EAAE,kBAAkBuB,GAAG,SAAS,WACxB,IAAM8J,EAAerL,EAAE4D,MAAM9B,KAAK,SAClC2F,QAAQC,IAAI2D,GACZrL,EAAE4D,MACOH,KAAK,wBACLrC,KAAKiK,GACdrL,EAAE4D,MACOH,KAAK,wBACLqF,SAAS,WAG1B9I,EAAE,kBAAkBuB,GAAG,cAAc,WAC7BvB,EAAE,wBAAwB2I,YAAY,WAI9C,IAAM/C,EAAiB5F,EAAE,iCAAiCM,MACtDsF,GACI0F,EAAmB1F,GAE3B5F,EAAE,QAAQuB,GAAG,SAAU,iCAAiC,WAChDvB,EAAE4D,MACOmF,OAAO,WACPrF,OAFT,4CAGA4H,EAAmBtL,EAAE4D,MAAMtD,OAE3BN,EAAE4D,MACO2H,QAAQ,cACR9H,KAAK,sBACLqF,SAAS,0BAmC1B9I,EAAE,QAAQuB,GAAG,QAAS,kBAAkB,SAASgC,GACzCA,EAAEQ,iBACF/D,EAAE4D,MACO4B,SAAS,0BACTC,KAAK,WAAW,GACzB,IAAM+F,EAAmBxL,EAAE4D,MAC3B4H,EACSD,QAAQ,gCACR7H,OAFT,4CAGA1D,EAAEmC,KAAK,CACCC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAM,CACEiE,OAAQ,6BACR0F,QAASzL,EAAE4D,MAAM9B,KAAK,YAE9BW,QAPD,SAOSsC,GACAyG,EACSD,QAAQ,gCACR5F,SAAS,yBACTjC,OAHT,wDAGiEqB,EAHjE,YAIAyG,EACSD,QAAQ,gCACR/F,SAAS,uBACT9C,SACTgJ,YAAW,WACHvG,SAASwG,WACd,WA3D3B,SAASL,EAAmB1F,GACpB5F,EAAEmC,KAAK,CACCC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAM,CACEiE,OAAQ,mCACRH,eAAgBA,EAChBgG,WAAY5L,EAAE,sCAAsC8B,KAAK,OAEjEW,QARD,SAQSsC,GACA/E,EAAE,sCACOmG,QACAzC,OAAOqB,EAASjD,KAAT,qBAoDxC,WAGQ,IAeI8F,EACAC,EAjBJ7H,EAAE,gBAAgBQ,OAEF,UADAR,EAAE,yBAAyBM,QAEnCN,EAAE,UAAUQ,OACZR,EAAE,gBAAgBO,QAE1BP,EAAE,+BAA+BuB,GAAG,SAAS,WACrC,IAAMuD,EAAQ9E,EAAE4D,MAC0C,GAA1DkB,EAAMU,SAAS,wBAAwBC,KAAK,WAClCzF,EAAE,IAAD,OAAK8E,EAAMhD,KAAK,YAAavB,OAC9BP,EAAE,IAAD,OAAK8E,EAAMhD,KAAK,YAAatB,OACxC,IAAMkF,EAAWZ,EAAMa,SAAS,SAChCD,EAASF,SAAS,wBAAwBC,KAAK,WAAW,GAC1DzF,EAAE,IAAD,OAAK0F,EAAS5D,KAAK,YAAatB,UAKzC,IAiIIwI,EAhIElB,EAAU9H,EAAE,qBACZ+H,EAAaD,EAAQrE,KAAK,sBAC1BuE,EAAaF,EAAQrE,KAAK,sBAC1BwE,EAAeH,EAAQrE,KAAK,0BA8HlC,GA3HAsE,EAAWxG,GAAG,SAAS,SAASuC,GACxBA,EAAMC,iBAGF6D,IAMJA,EAAQM,GAAGC,MAAM,CACTlE,MAAOtD,iBAAiBC,UAAUwH,aAClCC,OAAQ,CACAjH,KAAMT,iBAAiBC,UAAU0H,cAEzCC,QAAS,CAAEnG,KAAM,SACjBoG,UAvBO,KA2BTjH,GAAG,UAAU,WAIHsG,EAAYD,EACHa,QACA5J,IAAI,aACJ6J,SAQjB,IAAI5G,EAAO,GAG4B,IAAnC9B,EAAE,sBAAsB6C,QACpBoF,EAAaV,KAAK,IAKlBvH,EAAE6H,GAAWxE,MAAK,WAGQ,UAAdO,KAAKxB,OAGDN,GAAQ,kCACRA,GAAQ,qFAAJ,OACI8B,KAAK3C,GADT,MAGJa,GAAQ,gDAAJ,OACI8B,KAAKvB,IADT,uGAyBpB4F,EAAavE,OAAO5B,GAM5BkG,EAAWW,YAAY,aAhFvBf,EAAMgB,UAuFtBZ,EAAWzG,GAAG,SAAS,SAASuC,GACxBA,EAAMC,iBAENkE,EAAaV,KAAb,oBAEgB5G,iBAAiBkI,eAFjC,gDAMAb,EAAWc,SAAS,aAI5B9I,EAAE2D,UAAUpC,GAAG,QAAS,iBAAiB,SAASgC,GAC1CA,EAAEQ,iBACF/D,EAAE4D,MACOmF,SACArG,SAE8B,IAAnC1C,EAAE,sBAAsB6C,SACpBoF,EAAaV,KACL,oBACQ5G,iBAAiBkI,eADzB,mHAKRb,EAAWc,SAAS,cAKhCE,EAEI,YADAA,EAAYJ,OAIpB5I,EAAE,kBAAkBuB,GAAG,SAAS,SAASJ,GACjCA,EAAQ4C,kBAERiF,EAAcd,GAAGC,MAAMc,OAAOC,WAAahB,GAAGC,MAAM,CAC5ClE,MAAOtD,iBAAiBC,UAAUuI,eAClCd,OAAQ,CACAjH,KAAMT,iBAAiBC,UAAUwI,mBAGrCR,OAEZI,EAAYzH,GAAG,UAAU,WACjB8H,UAAYL,EACHP,QACA5J,IAAI,aACJyK,QACAZ,SACTa,QAAUF,UAAUpI,GACpBuI,YAAcH,UAAUhH,IAExBrC,EAAE,oBAAoBM,IAAIiJ,SAC1BvJ,EAAE,2BAA2BwD,KAAK,MAAOgG,aACzCxJ,EAAE,kBAAkBuH,KAAK,wBACzBvH,EAAE,oBAAoBO,UAG9ByI,EAAYJ,UAGpB5I,EAAE,oBAAoBuB,GAAG,SAAS,SAASgC,GACnCvD,EAAE4D,MAAMpD,OACRR,EAAE,oBAAoBwD,KAAK,QAAS,IACpCxD,EAAE,2BAA2BwD,KAAK,MAAO,IACzCD,EAAEQ,oBAEuC,KAA7C/D,EAAE,2BAA2BwD,KAAK,OAC9BxD,EAAE,oBAAoBQ,OAC0B,KAA7CR,EAAE,2BAA2BwD,KAAK,QACrCxD,EAAE,oBAAoBO,OAIzBP,EAAE,2BAA2BuF,GAAG,aAC7BvF,EAAE,0BAA0BQ,OAEpCR,EAAE,sBAAsBuB,GAAG,SAAS,SAASgC,GACjCvD,EAAE,2BAA2BuF,GAAG,YAC5BvF,EAAE,0BAA0BO,OAE5BP,EAAE,0BAA0BQ,UA/P5BqL,GACA7L,EAAE,iCACemG,QACAoB,KAAMxC,EAASjD,KAAT,mBACvB9B,EAAE,iCACemG,QACAoB,KAAMxC,EAASjD,KAAT,oBACvB9B,EAAE,sBACOyD,KAAK,uBACLf,SACT1C,EAAE,iCACOuL,QAAQ,cACR9H,KAAK,sBACLkF,YAAY,2BA1jBrD,CAgzBGzG,QAkBOlC,EAoDPkC,OAnD2BjC,EAgCR,4BA/BW0D,SAASyC,iBAAiBnG,GAClCoG,SAAQ,SAACR,EAAIvC,GACdwI,EAAIjG,EAAGO,iBAAiB,iBAExB0F,EAAEzF,SAAQ,SAAClF,EAASmC,GACZnC,EAAQ4K,MAAMC,OAAS,UACvB7K,EAAQqF,iBAAiB,SAAS,SAAA1C,GAC1BA,EAAMC,iBACND,EAAMmI,kBAEN,IAAMC,EAAKpI,EAAM2C,OAAO8E,QAAQ,iBAC1BY,EAAOD,EAAGE,mBACVC,EAASH,EAAG9F,iBAAiB,iBAC7BkG,EAAUH,EAAK/F,iBAAiB,mBAEtCiG,EAAOhG,SAAQ,SAACkG,EAAKC,GACbD,EAAI3F,UAAUlE,OAAO,oBAE7BoB,EAAM2C,OAAOG,UAAUC,IAAI,iBAE3ByF,EAAQjG,SAAQ,SAACoG,EAAUnJ,GAEnBmJ,EAAS7F,UAAUlE,OAAO,uBAhBC,IAkB3B+D,EAAW3C,EAAM2C,OAAjBA,OACR9C,SAAS+I,eAAejG,GAAQG,UAAUC,IAAI,6BAS9E7G,EAAE,QAAQuB,GAAG,QAAS,qBAAqB,WACnC,IAAMuD,EAAQ9E,EAAE4D,MACV+I,EAAQ3M,EAAE,WAChBA,EAAE,QAAQ0D,OAAOiJ,GACjBA,EAAMrM,IAAIN,EAAE4D,MAAMxC,QAAQwL,SAC1BjJ,SAASkJ,YAAY,QACrBF,EAAMjK,SACN1C,EAAE4D,MAAMoB,MACA,4FAER0G,YAAW,WACH5G,EAAMa,SAAS,gBAAgBL,QAAQ,KAAK,WACpCtF,EAAE4D,MAAMlB,cAErB,QAKnB,SAAU1C,GACFA,EAAE,QAAQuB,GAAG,QAAS,iCAAiC,WAC/CvB,EAAE,yBAAyB8M,YAAY,UACvC9M,EAAE,qCAAqC8M,YAAY,aAE3D9M,EAAE,QAAQuB,GAAG,QAAS,qCAAqC,WACnDvB,EAAE,yBAAyB2I,YAAY,UACvC3I,EAAE4D,MAAM+E,YAAY,aAuB5B3I,EAAE,QAAQuB,GAAG,QAAS,qCAAqC,SAASgC,GAC5DA,EAAEQ,iBACF/D,EAAE4D,MAAMkJ,YAAY,UACpB9M,EAAE,qCAAqC2I,YAAY,UACnD3I,EAAE4D,MACO+B,SAAS,qCACTgD,YAAY,UACrB3I,EAAE4D,MACOmJ,KAAK,qCACLD,YAAY,UACrBvJ,EAAE0I,qBAEVjM,EAAE2D,UAAUpC,GAAG,SAAS,SAASgC,IAC4C,IAAjEvD,EAAEuD,EAAEkD,QAAQlB,GAAG,gDACXvF,EAAE,qCAAqC2I,YAAY,UACnD3I,EAAE,qCAAqC2I,YAAY,cAKnE3I,EAAE,QAAQuB,GAAG,QAAS,sDAAsD,SAASgC,GAC7EA,EAAEQ,iBACF/D,EAAE4D,MAAM+B,SAAS,gCAAgCqH,YAIzDhN,EAAE,QAAQuB,GAAG,QAAQ,8DAA8D,SAASgC,GACpFA,EAAEQ,iBACF,IAAIkJ,EAAajN,EAAE4D,MAAM2D,OACzBvH,EAAE4D,MAAM4B,SAAS,sCAAsC+B,KAAK0F,GAC5DjN,EAAE4D,MAAM2H,QAAQ,gCAAgC5F,SAAS,gCAAgCH,SAAS,sCAAsC+B,KAAK0F,GAC7IjN,EAAE,gCAAgCQ,UAI1CR,EAAE2D,UAAUnE,KAAK,SAAS,SAAS+D,GACVvD,EAAEuD,EAAEkD,QACNyG,UAAUC,SAAS,yBAClCnN,EAAE,gCAAgCQ,UAM1CR,EAAE,wBAAwBuB,GAAG,SAAS,SAASgC,GACvCA,EAAEQ,iBAEF,IAAMqJ,EAAcpN,EAAE4D,MAAM9B,KAAK,UAC3BuL,EAAerN,EAAE4D,MAAMmF,SAG7B/I,EAAE,wBAAwB2I,YAAY,UACtC0E,EAAavE,SAAS,UAGtB9I,EAAE,uBAAuB2I,YAAY,UACrC3I,EAAEoN,GAAatE,SAAS,aAIhC9I,EAAE,6BAA6BuB,GAAG,SAAS,SAASgC,GAC5CA,EAAEQ,iBAEF,IAAMqJ,EAAcpN,EAAE4D,MAAM9B,KAAK,UAC3BuL,EAAerN,EAAE4D,MAAMmF,SAG7B/I,EAAE,6BAA6B2I,YAAY,UAC3C0E,EAAavE,SAAS,UAGtB9I,EAAE,sBAAsB2I,YAAY,UACpC3I,EAAEoN,GAAatE,SAAS,aAIhC9I,EAAE,yBAAyBuB,GAAG,SAAS,SAASgC,GACxCA,EAAEQ,iBAEF,IAAMqJ,EAAcpN,EAAE4D,MAAM9B,KAAK,UACjC9B,EAAEoN,GAAaE,iBAIvBtN,EAAE,2BAA2BuB,GAAG,SAAS,SAASgC,GAC1CA,EAAEQ,iBAEF,IAAMwJ,EAAcvN,EAAE4D,MAAM9B,KAAK,UAC3BsL,EAAcpN,EAAE4D,MAAM9B,KAAK,UAE7B9B,EAAEoN,GAAaD,SAAS,WACpBnN,EAAEoN,GAAazE,YAAY,UAC3B3I,EAAEoN,GAAa1I,YAEf1E,EAAEuN,GACO9J,KAAK,4BACLkF,YAAY,UACrB3I,EAAEoN,GAAaN,YAAY,UAE3B9M,EAAEuN,GACO9J,KAAK,4BACLiB,UACT1E,EAAEoN,GAAaE,kBAO/B,IAAIE,GAAa,EACjBxN,EAAE,yCAAyCuB,GAAG,UAAU,SAASgC,GAEzD,GADAA,EAAEQ,kBACEyJ,EAAJ,CAIA,IAAMC,EAAOzN,EAAE4D,MACTuG,EAAgBsD,EAAKhK,KAAK,yBAE1BqH,EAAY,CACV/E,OAAQ,kCACR2H,SAAUD,EAAKhK,KAAK,0BAA0BnD,MAC9CqN,SAAUF,EAAKhK,KAAK,0BAA0BnD,OAGtDN,EAAE,wBAAwBuH,KAAK,IAE/BiG,GAAa,EACbtL,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJI,WAKI4H,EAAcE,QACN,mFAERF,EAAc3G,KAAK,YAAY,IAEvCf,QAVI,SAUIsC,GAEA,GAAIA,EAAS6I,2BACLzI,SAASwG,aADjB,CASA,GAJA6B,GAAa,EACbrD,EAAc3G,KAAK,YAAY,GAC/B2G,EAAc1G,KAAK,kBAAkBf,SAEjCqC,EAAS8I,OAAOnG,IACZ,IAAK,IAAMoG,KAAY/I,EAAS8I,OAAOnG,IAAK,CACpCD,QAAQC,IAAI3C,EAAS8I,OAAOnG,IAAIoG,IAChC,IACInG,EADEoG,EAAoD,YAAvChJ,EAAS8I,OAAOnG,IAAIoG,GAAU1L,KAE3C4L,EAAgBjJ,EAAS8I,OAAOnG,IAAIoG,GAAUzG,QACpDM,EAAQ,gCAAH,OAAmCoG,EAAnC,aAAkDC,EAAlD,SAELhO,EAAE,wBAAwB0D,OAAOiE,GAIjD,GAAI5C,EAAS8I,OAAOpL,QAAS,CACrBgL,EAAKjK,KAAK,KAAM,+BAChBiK,EAAKhK,KAAK,oBAAoBf,SAE9B,IAAMuL,EAAqBR,EAAKhK,KAAK,6BACrCwK,EAAmBtF,YAAY,gBAG/BsF,EAAmBvK,OAAO,2CAE1B,IAAMwK,EACEnJ,EAASoJ,cAAgBpJ,EAASoJ,aAAaD,OACrCnJ,EAASoJ,aAAaD,OACtB,GACZE,EACErJ,EAASoJ,cAAgBpJ,EAASoJ,aAAaC,QACrCrJ,EAASoJ,aAAaC,QACtB,GAEZC,EAAcH,EAAOrL,OACrByL,EAAeF,EAAQvL,OAI7B,IAAKuL,EAAQvL,SAAWqL,EAAOrL,OAAQ,CAC/B,IAAIoB,EACI,6FAIR,OAHAgK,EAAmBxK,KAAK,wBAAwBC,OAAOO,QACvDkB,SAASwG,SAKb1H,EAAQ,+DAIZ,GAHAgK,EAAmBxK,KAAK,wBAAwBC,OAAOO,GAGnDoK,EAAa,CAGTJ,EAAmBxK,KAAK,wBAAwBC,OADxC,yEAGR,IAAM6K,EAAc,mEAAH,OACTL,EAAOrL,OADE,iBAMjBoL,EACSxK,KAAK,8BACLC,OAAO6K,GAChBN,EACSxK,KAAK,8BACLC,OAPD,yDASR,IAlBS,MAmBWwK,GAnBX,IAmBT,2BAA4B,KAAjBM,EAAiB,QAEhBC,EAAW,0EAAH,OACJD,EAAME,QADF,oBAEAF,EAAME,QAFN,iBAEsBF,EAAME,QAF5B,MAGRC,EAAQ,eAAH,OAAkBH,EAAME,QAAxB,aACDF,EAAMvK,MADL,YAGL2K,EAAc,mCAAH,OAAsCH,EAAtC,YACXI,EAAK,+EAAH,OACEL,EAAME,QADR,aAEDE,GAFC,OAEaD,EAFb,SAGNV,EAAmBxK,KAAK,sBAAsBC,OAAOmL,IA/BpD,+BAqCjB,GAAIP,EAAc,CAGVL,EAAmBxK,KAAK,wBAAwBC,OADxC,6EAGR,IAAMoL,EAAe,2EAAH,OACVV,EAAQvL,OADE,iBAMlBoL,EACSxK,KAAK,kCACLC,OAAOoL,GAChBb,EACSxK,KAAK,kCACLC,OAPD,6DASR,IAlBU,MAmBc0K,GAnBd,IAmBV,2BAAiC,KAAtBW,EAAsB,QAErBN,EAAW,2EAAH,OACJM,EAAUL,QADN,oBAEAK,EAAUL,QAFV,iBAE0BK,EAAUL,QAFpC,MAGRE,EAAc,mCAAH,OAAsCH,EAAtC,YACXE,EAAQ,eAAH,OAAkBI,EAAUL,QAA5B,aACDK,EAAU9K,MADT,YAGL4K,EAAK,gFAAH,OACEE,EAAUL,QADZ,aAEDE,GAFC,OAEaD,EAFb,SAINV,EAAmBxK,KAAK,0BAA0BC,OAAOmL,IAhCvD,+BA0ClBZ,EAAmBvK,OAJX,yLAKRuK,EAAmBvK,OAHX,uEAKR1D,EAAE,gCAAgCuB,GAAG,SAAS,SAASgC,GAC/CvD,EAAE4D,MAAM6B,KAAK,YAAY,GAEzB,IAAIuJ,EAAgB,EACpBhP,EACQ,kEACNqD,MAAK,SAASrF,EAAGuF,GAGX,IAFmBvD,EAAEuD,GAAGgC,GAAG,YAEV,CACT,IAAMtE,EAAKjB,EAAEuD,GAAGC,KAAK,MACHxD,EAAE,oBAAD,OAAqBiB,IAC9ByB,SAEVsM,QAIhB,IAAIC,EAAiB,EACrBjP,EACQ,mEACNqD,MAAK,SAASrF,EAAGuF,GAGX,IAFmBvD,EAAEuD,GAAGgC,GAAG,YAEV,CACT,IAAMtE,EAAKjB,EAAEuD,GAAGC,KAAK,MACHxD,EAAE,oBAAD,OAAqBiB,IAC9ByB,SAEVuM,QAIhB,IAAMC,EAAkBb,EAAcW,EAChCG,EAAmBb,EAAeW,EAExCjP,EAAE,sBACOyD,KAAK,gBACL8D,KAFT,WAEkB2H,EAFlB,MAGAlP,EAAE,0BACOyD,KAAK,gBACL8D,KAFT,WAEkB4H,EAFlB,MAIAnP,EAAE,6DAA6DiF,IACvD,UACA,QAERjF,EAAE,6CAA6CqK,QACvC,yFAGR,IAAM+E,EAAwB,CACtBC,2BAA4B,GAC5BC,wBAAyB,GACzBC,0BAA2B,GAC3BC,uBAAwB,IA+GhC,GARKN,GACGlP,EAAE,8BAA8B0C,SAGnCyM,GACGnP,EAAE,kCAAkC0C,SAGxCwM,GAAmBC,EAAkB,CAEjClB,EACSxK,KAAK,2CACL8D,KAHiB,4BAMlC,IAAMkI,EAAoB,GAG1B,GAAIP,EAAiB,WACOhB,GADP,IACb,2BAA4B,KAAjBM,EAAiB,QACpBiB,EAAkB3J,KAAK,CAAE4J,KAAMlB,EAAOpM,KAAM,WAFvC,+BAOrB,GAAI+M,EAAkB,WACOf,GADP,IACd,2BAA8B,KAAnBuB,EAAmB,QACtBF,EAAkB3J,KAAK,CACf4J,KAAMC,EACNvN,KAAM,YAJR,+BAqDlBqN,EAAkB5M,QAjLD,SAAjB+M,EAA0BC,EAAWC,EAASC,GAC1C,GAAID,EAAUD,EAAUhN,OAAS,EACrBkN,GACIA,QAFhB,CAOA,IAAMC,EAAaF,EAAU,EACvBG,EAAYJ,EAAUC,GACpBJ,EAASO,EAATP,KACFQ,EAAYD,EAAU7N,KAEtB+N,EAAYnQ,EAAE,oBAAD,OAAqB0P,EAAKhB,UACvC0B,EAAWD,EAAU1M,KACnB,kCAOR,GALsBzD,EAAE,UAAD,OACLkQ,EADK,0BACsBR,EAAKhB,UAEjBnJ,GAAG,YAEpC,CAKA,IAAMuF,EAAY,CACV/E,OAAQ,sBACRsK,cAAeX,EACftN,KAAM8N,GAEdhO,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJI,WAKI6N,EAASzH,YAAY,qBACrByH,EAAS7I,KACD,sDAGhB9E,QAVI,SAUIsC,GAGA,GAFA0C,QAAQC,IAAI,UAAWoI,EAAS/K,GAE5BA,EAAS8I,OAAOpL,QACZ2N,EAAStH,SAAS,sBAClBsH,EAAS7I,KACD,sCAGS,UAAb2I,GACId,EAAsBC,2BAA2BvJ,KACzC4J,GAIC,SAAbQ,GACId,EAAsBG,0BAA0BzJ,KACxC4J,OAGjB,CACC,IAAMY,EAAM,uDAAH,OACDvL,EAAS8I,OAAOxG,QADf,WAGT8I,EAAUzM,OAAO4M,GACjBF,EAAStH,SAAS,qBAClBsH,EAAS7I,KACD,sCAGS,UAAb2I,GACId,EAAsBE,wBAAwBxJ,KACtC4J,GAIC,SAAbQ,GACId,EAAsBI,uBAAuB1J,KACrC4J,GAKxBE,EAAeC,EAAWG,EAAYD,IAE9CvI,MAvDI,SAuDEA,GACEC,QAAQC,IAAIF,GAEZ4I,EAAStH,SAAS,qBAClBsH,EAAS7I,KACD,8CArEhBqI,EAAeC,EAAWG,EAAYD,IA2J9CH,CAAeH,EAAmB,GA5CV,WAExB,IAAIc,GAAwB,EACtBC,EACEpB,EAAsBI,uBAAuB3M,OAE7CqM,GACAsB,IAAiCtB,IAEjCqB,GAAwB,GAIhC,IAAIE,GAA0B,EACxBC,EACEtB,EAAsBE,wBAAwBzM,OAE9CsM,GACAuB,IAAkCvB,IAElCsB,GAA0B,GAGlC,IAAIE,GAA2B,EAC3BJ,GAAyBE,IACrBE,GAA2B,GAGnC3Q,EAAEiO,GACOxK,KACO,oDAEPf,SAET,IAGMkO,EAAa,6DAAH,OAHSD,EACf,QACA,SACM,aAChB3Q,EAAEiO,GACOxK,KAAK,8BACLC,OAAOkN,YAUhDpJ,MA3YI,SA2YEA,GACEC,QAAQC,IAAIF,GACZgG,GAAa,EACbrD,EAAc3G,KAAK,YAAY,GAC/B2G,EAAc1G,KAAK,kBAAkBf,gBAM7D1C,EAAE,QAAQuB,GAAG,QAAS,WAAW,SAASgC,GAClCA,EAAEQ,iBACF0D,QAAQC,IAAI,gBACZvC,SAASwG,YAIjB3L,EAAE,mBAAmBuB,GAAG,SAAS,SAASgC,GAClCA,EAAEQ,iBAEF/D,EAAE4D,MAAM6B,KAAK,YAAY,GAEzB,IAAMoL,EAAa7Q,EAAE4D,MAAM9B,KAAK,OAC1BgP,EAAsB9Q,EAAE4D,MAAM2D,OAE9BuD,EAAY,CACV/E,OAAQ,wBAGZ8K,IACI/F,EAAU+F,WAAaA,GAG/B,IAAME,EAAOnN,KAEb1B,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJI,WAMIvC,EAAE+Q,GAAMxJ,KADK,yDAGrB9E,QARI,SAQIsC,GACA0C,QAAQC,IAAI3C,GAERA,EAAS8I,OAAOpL,SACZzC,EAAE+Q,GAAMxJ,KAAK,WAEbpC,SAASwG,WAET3L,EAAE+Q,GAAMxJ,KAAKuJ,GACbnJ,MAAM5C,EAAS8I,OAAOmD,WAGtCxJ,MApBI,SAoBEA,GACEC,QAAQC,IAAIF,GACZxH,EAAE+Q,GAAMxJ,KAAKuJ,GACb9Q,EAAE4D,MAAM6B,KAAK,YAAY,SAMjDzF,EAAE,qBAAqBuB,GAAG,SAAS,SAASgC,GAGpC,GAFAA,EAAEQ,iBAEE/D,EAAE4D,MAAMuJ,SAAS,eACb1F,QAAQC,IAAI,eADpB,CAKA,IAEMoD,EAAY,CACV/E,OAAQ,wCACRkL,SAJSjR,EAAE4D,MAAM9B,KAAK,OAKtBM,KAJUpC,EAAE4D,MAAM9B,KAAK,SAMzBoP,EAAmBlR,EAAE4D,MAAM2D,OAEjC4J,mBAAoB,EACpB,IAAMJ,EAAOnN,KACb5D,EAAE4D,MAAM6B,KAAK,YAAY,GACzBzF,EAAE4D,MAAMkF,SAAS,eAEjB5G,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJI,WAKIvC,EAAE+Q,GAAMxJ,KAAK,cAGbvH,EAAE+Q,GAAM1G,QAFK,iDAIrB5H,QAVI,SAUIsC,GACA0C,QAAQC,IAAI3C,GAERA,EAAS8I,SAAW9I,EAAS8I,OAAOpL,SAAWsC,EAAS8I,OAAOxG,SAC3DM,MAAM5C,EAAS8I,OAAOxG,SAG1BtC,EAAS8I,QAAU9I,EAAS8I,OAAOpL,QAC/BzC,EAAE+Q,GAAMxJ,KAAK,aAEbvH,EAAE+Q,GAAMxJ,KAAK,UAGrBpC,SAASwG,UAEjBnE,MAzBI,SAyBEA,GACEC,QAAQC,IAAIF,GACZxH,EAAE4D,MAAM6B,KAAK,YAAY,GACzBzF,EAAE4D,MAAM+E,YAAY,eAEpB3I,EAAE+Q,GAAMxJ,KAAK2J,UAMrClR,EAAE,yBAAyBuB,GAAG,SAAS,SAASgC,GACxCA,EAAEQ,iBAEF,IAAMqN,EAA+BpR,EAAE4D,MAAMmF,SACvCsI,EAAerR,EAAE,oBAEvBA,EAAEoR,GAA8BE,QACxB,CACQC,MAAO,GAEf,KAGRvR,EAAEqR,GAAcC,QACR,CACQC,MAAO,KAEf,QAKhBvR,EAAE,sBAAsBuB,GAAG,SAAS,SAASgC,GACrCA,EAAEQ,iBAEF,IAAMsN,EAAerR,EAAE,oBACjBoR,EAA+BpR,EAAE,iCAEvCA,EAAEoR,GAA8BE,QACxB,CACQC,MAAO,KAEf,KAGRvR,EAAEqR,GAAcC,QACR,CACQC,MAAO,GAEf,QAKhBvR,EAAE,0BAA0BuB,GAAG,UAAU,SAASgC,GAC1CA,EAAEQ,iBAGF,IAAMyN,EAAaxR,EAAE4D,MAAMH,KAAK,yBAC1ByN,EAAmBM,EAAWjK,OAC9BkK,EAAYzR,EAAE4D,MAAMH,KAAK,sBACzB2G,EAAgBpK,EAAE4D,MAAMH,KAAK,wBAEnCzD,EAAEwR,GAAY/L,KAAK,YAAY,GAC/BzF,EAAEyR,GAAW3I,SAAS,gBAEtB,IAIMgC,EAAY,CACV/E,OAAQ,gCACR4H,SANS3N,EAAE4D,MACVH,KAAK,0BACLnD,OAOT8J,EAAc7C,KAAK,IAEnBrF,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJI,WAKIvC,EAAEwR,GAAYjK,KAAK,gDAE3B9E,QAPI,SAOIsC,GAGA,GAFA0C,QAAQC,IAAI3C,GAERA,EAAS8I,OAAOxG,QAAS,CACrB,IAAIqK,EAAgB3M,EAAS8I,OAAOpL,QAAU,UAAY,SACtD4E,EAAU,2BAAH,OAA8BqK,EAA9B,aACH3M,EAAS8I,OAAOxG,QADb,WAIX+C,EAAc7C,KAAKF,GAG3B,GAAItC,EAAS8I,OAAOmD,QAAS,CACjBU,EAAgB3M,EAAS8I,OAAOpL,QAAU,UAAY,SACtD4E,EAAU,2BAAH,OAA8BqK,EAA9B,aACH3M,EAAS8I,OAAOmD,QADb,WAIX5G,EAAc7C,KAAKF,GAGtBtC,EAAS8I,OAAOpL,QASb0C,SAASwG,UART3L,EAAEwR,GAAYjK,KAAK2J,GACnBlR,EAAEwR,GAAY/L,KAAK,YAAY,GAC/BzF,EAAEyR,GAAW9I,YAAY,gBAErB5D,EAAS8I,OAAOlC,QACZxG,SAASwG,WAMjCnE,MAxCI,SAwCEA,GACEC,QAAQC,IAAIF,GAEZxH,EAAEwR,GAAY/L,KAAK,YAAY,GAC/BzF,EAAEwR,GAAYjK,KAAK2J,GAEnBlR,EAAEyR,GAAW9I,YAAY,sBAMjD3I,EAAE,6BAA6BuB,GAAG,SAAS,SAASgC,GAC5CA,EAAEQ,iBAEF,IAEM+G,EAAY,CACV/E,OAAQ,oCACR4L,YAJY3R,EAAE4D,MAAM9B,KAAK,gBAO3BiP,EAAOnN,KAEb1B,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJI,WAKIvC,EAAE+Q,GAAMxJ,KAAK,4DAErB9E,QAPI,SAOIsC,GAEAI,SAASwG,UAEjBnE,MAXI,SAWEA,GACEC,QAAQC,IAAIF,GACZxH,EAAE4D,MAAM6B,KAAK,YAAY,GACzBzF,EAAE4D,MAAM+E,YAAY,eAEpB3I,EAAE+Q,GAAMxJ,KAAK2J,wBASrC,IAAIU,GAAqB,EACzB5R,EAAE,6BAA6BuB,GAAG,UAAU,SAASgC,GAG7C,GAFAA,EAAEQ,kBAEE6N,EAAJ,CAIA,IAAMC,EAAO7R,EAAE4D,MACNH,KAAK,+BACLnD,MACHwR,EAAgB,GAatB,GAXA9R,EAAE4D,MACOH,KAAK,4BACLJ,MAAK,SAASrF,EAAGuF,GACV,IAAMwO,EAAa/R,EAAEuD,GAAGgC,GAAG,YACrBtE,EAAKjB,EAAEuD,GAAGC,KAAK,MAEjBuO,GACID,EAAchM,KAAK7E,MAItC4Q,EAAKhP,QAAWiP,EAAcjP,OAAnC,CAIA,IAAMkO,EAAOnN,KACbgO,GAAqB,EACrB9G,UAAY,CACJ/E,OAAQ,4BACR8L,OACAG,aAAcF,GAGtB5P,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,UACNvI,WAJI,WAKIvC,EAAE+Q,GACOtN,KAAK,yBACL4G,QACO,uFAGxB5H,QAXI,SAWIsC,GAEA/E,EAAE+Q,GACOtN,KAAK,qCACLf,SACTyC,SAASwG,UAEjBnE,MAlBI,SAkBEA,GACEC,QAAQC,IAAIF,GACZyK,GAAe,UAQnCL,GAAqB,EACzB5R,EAAE,wCAAwCuB,GAAG,UAAU,SAASgC,GAGxD,GAFAA,EAAEQ,kBAEE6N,EAAJ,CAIA,IAAMb,EAAOnN,KACPiO,EAAO7R,EAAE4D,MACNH,KAAK,+BACLnD,MACHwR,EAAgB,GAatB,GAXA9R,EAAE+Q,GACOtN,KAAK,4BACLJ,MAAK,SAASrF,EAAGuF,GACV,IAAMwO,EAAa/R,EAAEuD,GAAGgC,GAAG,YACrBtE,EAAKjB,EAAEuD,GAAGC,KAAK,MAEjBuO,GACID,EAAchM,KAAK7E,MAItC4Q,EAAKhP,QAAWiP,EAAcjP,OAAnC,CAKA7C,EAAE4D,MACOH,KAAK,qBACLqF,SAAS,eAClB9I,EAAE4D,MACOH,KAAK,qBACLgC,KAAK,YAAY,GAI1BzF,EAAE4D,MACOH,KAAK,yBACLgC,KAAK,YAAY,GAC1BzF,EAAE4D,MACOH,KAAK,yBACL4G,QAND,sFAwERuH,GAAqB,EAhEC,SAAlBM,EAA2B9D,EAAS0B,EAASC,GACzC,GAAID,EAAU1B,EAAQvL,OAAS,EACnBkN,GACIA,QAFhB,CAOA,IAAM1C,EAAee,EAAQ0B,GAEvBqC,EADiBnS,EAAE,eAAD,OAAgBqN,IACL5J,KAAK,qBAClCuM,EAAaF,EAAU,EAI7BrI,QAAQC,IAAI,CAAE2F,iBAEdvC,UAAY,CACJ/E,OAAQ,wCACRkL,SAAU5D,EACVjL,KAAM,UAGdF,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,UACNvI,WAJI,WAKI4P,EAAY5K,KACJ,iGAGhB9E,QATI,SASIsC,GACA0C,QAAQC,IAAI3C,GAERA,EAAS8I,OAAOpL,QACZ0P,EAAY5K,KAAK,aAEjB4K,EAAY5K,KAAK,UAGzB2K,EAAgB9D,EAAS4B,EAAYD,IAE7CvI,MApBI,SAoBEA,GACEC,QAAQC,IAAIF,OAqBpC0K,CAAgBJ,EAAe,GAhBD,WACtBrK,QAAQC,IAAI,QACZkK,GAAqB,EAErB5R,EAAE+Q,GACOtN,KAAK,yBACLA,KAAK,eACLf,SACT1C,EAAE+Q,GACOtN,KAAK,yBACLgC,KAAK,YAAY,GAE1BN,SAASwG,iBAQzB,IAAIsG,GAAe,EACnBjS,EAAE,yBAAyBuB,GAAG,SAAS,SAASgC,GAExC,GADAA,EAAEQ,kBACEkO,EAAJ,CAIA,IAEMnH,EAAY,CACV/E,OAAQ,4BACR8L,KAAM,YACNG,aAAc,CALFhS,EAAE4D,MAAM9B,KAAK,YAQ3BiP,EAAOnN,KACbqO,GAAe,EAEf/P,OAAOC,KAAK,CACJC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJI,WAKIvC,EAAE+Q,GAAM1G,QACA,uFAGhB5H,QATI,SASIsC,GAEA/E,EAAE+Q,GACOxF,QAAQ,eACR9H,KAAK,oBACLkF,YAAY,UACrBxD,SAASwG,UAEjBnE,MAjBI,SAiBEA,GACEC,QAAQC,IAAIF,GACZyK,GAAe,SAMvCjS,EAAE,6BACOyD,KAAK,4BACLlC,GAAG,UAAU,SAASgC,GACIvD,EAAE4D,MAAM2B,GAAG,YAGtBvF,EAAE,6BACOyD,KAAK,4BACLgC,KAAK,WAAW,GAEzBzF,EAAE,6BACOyD,KAAK,4BACLgC,KAAK,WAAW,MAIjDzF,EAAE,wCACOyD,KAAK,4BACLlC,GAAG,UAAU,SAASgC,GACIvD,EAAE4D,MAAM2B,GAAG,YAGtBvF,EAAE,wCACOyD,KAAK,4BACLgC,KAAK,WAAW,GAEzBzF,EAAE,wCACOyD,KAAK,4BACLgC,KAAK,WAAW,MAKjDzF,EAAE,oBAAoBqD,MAAK,SAASrF,EAAGuF,GAC/BvD,EAAEuD,GAAGhC,GAAG,SAAS,SAASqJ,GAClBA,EAAI7G,iBAEA/D,EAAE4D,MAAMuJ,SAAS,UACbnN,EAAE4D,MAAM+E,YAAY,WAEpB3I,EAAE,oBAAoB2I,YAAY,UAClC3I,EAAE4D,MAAMkF,SAAS,iBAMzC,IAAIsJ,GAAsB,EAC1BpS,EAAE,uBAAuBuB,GAAG,SAAS,SAASgC,GAGtC,GAFAA,EAAEQ,kBAEEqO,EAAJ,CAIA,IAAMhF,EAAcpN,EAAE4D,MAAM9B,KAAK,UACjC,GAAKsL,GAGAA,EAAYvK,OAAjB,CAIA,IAAMiI,EAAY,CACV/E,OAAQ,uBACRsM,iBAAkBjF,GAGpB2D,EAAOnN,KACbwO,GAAsB,EAEtBpS,EAAEmC,KAAK,CACCC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJD,WAKSvC,EAAE+Q,GAAM1G,QACA,uFAGhB5H,QATD,SASSsC,GACA0C,QAAQC,IAAI,CAAE3C,aACd/E,EAAE+Q,GACOtN,KAAK,eACLf,SAELqC,EAAS8I,QAAU9I,EAAS8I,OAAOpL,SAC/B0C,SAASwG,UAGzBnE,MAnBD,SAmBOA,GACEC,QAAQC,IAAI,CAAEF,UACd4K,GAAsB,EACtBpS,EAAE+Q,GACOtN,KAAK,eACLf,iBAMjC1C,EAAE,qBAAqBuB,GAAG,SAAS,SAASgC,GAIpC,GAHAA,EAAEQ,iBAEF/D,EAAE4D,MAAM6B,KAAK,YAAY,IACrBzF,EAAE4D,MAAMuJ,SAAS,eAArB,CAIA,IAAMkF,EAAmBrS,EAAE4D,MAAM9B,KAAK,UAChCgP,EAAsB9Q,EAAE4D,MAAM2D,OAC9BuD,EAAY,CAAE/E,OAAQ,sBAExBsM,IACIvH,EAAUuH,iBAAmBA,GAGrC,IAAMtB,EAAOnN,KACb5D,EAAE4D,MAAMkF,SAAS,eAEjB9I,EAAEmC,KAAK,CACCC,KAAM,OACNC,IAAK1B,iBAAiB2B,QACtBR,KAAMgJ,EACNvI,WAJD,WAKSvC,EAAE+Q,GAAMxJ,KACA,+FAGhB9E,QATD,SASSsC,GACA0C,QAAQC,IAAI,CAAE3C,aAEVA,EAAS8I,QAAU9I,EAAS8I,OAAOpL,SAC/BzC,EAAE+Q,GAAMxJ,KAAK,WACbpC,SAASwG,WAET3L,EAAE+Q,GAAMpI,YAAY,eACpB3I,EAAE+Q,GAAMxJ,KAAKuJ,GACb9Q,EAAE+Q,GAAMtL,KAAK,YAAY,GAEzBkC,MAAM5C,EAAS8I,OAAOxG,WAGtCG,MAvBD,SAuBOA,GACEC,QAAQC,IAAI,CAAEF,UACdxH,EAAE+Q,GAAMpI,YAAY,eACpB3I,EAAE+Q,GAAMxJ,KAAKuJ,GACb9Q,EAAE+Q,GAAMtL,KAAK,YAAY,UAhrCzD,CAorCGvD,S","file":"admin.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 188);\n","import '../../scss/layout/admin/admin-style.scss';\n\n(function($) {\n        const content = '';\n        // Category icon selection\n        function selecWithIcon(selected) {\n                if (!selected.id) {\n                        return selected.text;\n                }\n                const $elem = $(\n                        `<span><span class='${atbdp_admin_data.icon_type} ${selected.element.value}'></span> ${\n                                selected.text\n                        }</span>`\n                );\n                return $elem;\n        }\n\n        $('#category_icon').select2({\n                placeholder: atbdp_admin_data.i18n_text.icon_choose_text,\n                allowClear: true,\n                templateResult: selecWithIcon,\n        });\n\n        $(\"[data-toggle='tooltip']\").tooltip();\n\n        // price range\n        const pricerange = $('#pricerange_val').val();\n        if (pricerange) {\n                $('#pricerange').fadeIn(100);\n        }\n        $('#price_range_option').on('click', function() {\n                $('#pricerange').fadeIn(500);\n        });\n\n        // enable sorting if only the container has any social or skill field\n        const $s_wrap = $('#social_info_sortable_container'); // cache it\n        if (window.outerWidth > 1700) {\n                if ($s_wrap.length) {\n                        $s_wrap.sortable({\n                                axis: 'y',\n                                opacity: '0.7',\n                        });\n                }\n        }\n        // SOCIAL SECTION\n        // Rearrange the IDS and Add new social field\n        $('body').on('click', '#addNewSocial', function() {\n                const social_wrap = $('#social_info_sortable_container'); // cache it\n                const currentItems = $('.atbdp_social_field_wrapper').length;\n                const ID = `id=${currentItems}`; // eg. 'id=3'\n                const iconBindingElement = jQuery('#addNewSocial');\n                // arrange names ID in order before adding new elements\n                $('.atbdp_social_field_wrapper').each(function(index, element) {\n                        const e = $(element);\n                        e.attr('id', `socialID-${index}`);\n                        e.find('select').attr('name', `social[${index}][id]`);\n                        e.find('.atbdp_social_input').attr('name', `social[${index}][url]`);\n                        e.find('.removeSocialField').attr('data-id', index);\n                });\n                // now add the new elements. we could do it here without using ajax but it would require more markup here.\n                atbdp_do_ajax(iconBindingElement, 'atbdp_social_info_handler', ID, function(data) {\n                        social_wrap.append(data);\n                });\n        });\n\n        // remove the social field and then reset the ids while maintaining position\n        $(document).on('click', '.removeSocialField', function(e) {\n                const id = $(this).data('id');\n                const elementToRemove = $(`div#socialID-${id}`);\n                event.preventDefault();\n                /* Act on the event */\n                swal(\n                        {\n                                title: atbdp_admin_data.i18n_text.confirmation_text,\n                                text: atbdp_admin_data.i18n_text.ask_conf_sl_lnk_del_txt,\n                                type: 'warning',\n                                showCancelButton: true,\n                                confirmButtonColor: '#DD6B55',\n                                confirmButtonText: atbdp_admin_data.i18n_text.confirm_delete,\n                                closeOnConfirm: false,\n                        },\n                        function(isConfirm) {\n                                if (isConfirm) {\n                                        // user has confirmed, no remove the item and reset the ids\n                                        elementToRemove.slideUp('fast', function() {\n                                                elementToRemove.remove();\n                                                // reorder the index\n                                                $('.atbdp_social_field_wrapper').each(function(index, element) {\n                                                        const e = $(element);\n                                                        e.attr('id', `socialID-${index}`);\n                                                        e.find('select').attr('name', `social[${index}][id]`);\n                                                        e.find('.atbdp_social_input').attr(\n                                                                'name',\n                                                                `social[${index}][url]`\n                                                        );\n                                                        e.find('.removeSocialField').attr('data-id', index);\n                                                });\n                                        });\n\n                                        // show success message\n                                        swal({\n                                                title: atbdp_admin_data.i18n_text.deleted,\n                                                // text: \"Item has been deleted.\",\n                                                type: 'success',\n                                                timer: 200,\n                                                showConfirmButton: false,\n                                        });\n                                }\n                        }\n                );\n        });\n\n        // upgrade old listing\n        $('#upgrade_directorist').on('click', function(event) {\n                event.preventDefault();\n                const $this = $(this);\n                // display a notice to user to wait\n                // send an ajax request to the back end\n                atbdp_do_ajax($this, 'atbdp_upgrade_old_listings', null, function(response) {\n                        if (response.success) {\n                                $this.after(`<p>${response.data}</p>`);\n                        }\n                });\n        });\n\n        // upgrade old pages\n        $('#shortcode-updated input[name=\"shortcode-updated\"]').on('change', function(event) {\n                event.preventDefault();\n                $('#success_msg').hide();\n\n                const $this = $(this);\n                // display a notice to user to wait\n                // send an ajax request to the back end\n                atbdp_do_ajax($this, 'atbdp_upgrade_old_pages', null, function(response) {\n                        if (response.success) {\n                                $('#shortcode-updated').after(`<p id=\"success_msg\">${response.data}</p>`);\n                        }\n                });\n\n                $('.atbdp_ajax_loading').css({\n                        display: 'none',\n                });\n        });\n\n        // redirect to import import_page_link\n        $('#csv_import input[name=\"csv_import\"]').on('change', function(event) {\n                event.preventDefault();\n                window.location = atbdp_admin_data.import_page_link;\n        });\n\n        /* This function handles all ajax request */\n        function atbdp_do_ajax(ElementToShowLoadingIconAfter, ActionName, arg, CallBackHandler) {\n                let data;\n                if (ActionName) data = `action=${ActionName}`;\n                if (arg) data = `${arg}&action=${ActionName}`;\n                if (arg && !ActionName) data = arg;\n                // data = data ;\n\n                const n = data.search(atbdp_admin_data.nonceName);\n                if (n < 0) {\n                        data = `${data}&${atbdp_admin_data.nonceName}=${atbdp_admin_data.nonce}`;\n                }\n\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data,\n                        beforeSend() {\n                                jQuery(\"<span class='atbdp_ajax_loading'></span>\").insertAfter(\n                                        ElementToShowLoadingIconAfter\n                                );\n                        },\n                        success(data) {\n                                jQuery('.atbdp_ajax_loading').remove();\n                                CallBackHandler(data);\n                        },\n                });\n        }\n})(jQuery);\n\n// Custom Image uploader for listing image\n(function($) {\n        // Set all variables to be used in scope\n\n        const has_tagline = $('#has_tagline').val();\n        const has_excerpt = $('#has_excerpt').val();\n        if (has_excerpt && has_tagline) {\n                $('.atbd_tagline_moto_field').fadeIn();\n        } else {\n                $('.atbd_tagline_moto_field').fadeOut();\n        }\n\n        $('#atbd_optional_field_check').on('change', function() {\n                $(this).is(':checked')\n                        ? $('.atbd_tagline_moto_field').fadeIn()\n                        : $('.atbd_tagline_moto_field').fadeOut();\n        });\n\n        // price range\n        $('#price_range').hide();\n        const is_checked = $('#atbd_listing_pricing').val();\n        if (is_checked === 'range') {\n                $('#price').hide();\n                $('#price_range').show();\n        }\n        $('.atbd_pricing_options label').on('click', function() {\n                const $this = $(this);\n                $this.children('input[type=checkbox]').prop('checked') == true\n                        ? $(`#${$this.data('option')}`).show()\n                        : $(`#${$this.data('option')}`).hide();\n                const $sibling = $this.siblings('label');\n                $sibling.children('input[type=checkbox]').prop('checked', false);\n                $(`#${$sibling.data('option')}`).hide();\n        });\n\n        // Load custom fields of the selected category in the custom post type \"atbdp_listings\"\n        $('#at_biz_dir-categorychecklist').on('change', function(event) {\n                const length = $('#at_biz_dir-categorychecklist input:checked');\n                const id = [];\n                const directory_type = $('select[name=\"directory_type\"]').val();\n                length.each((el, index) => {\n                        id.push($(index).val());\n                });\n                const data = {\n                        action: 'atbdp_custom_fields_listings',\n                        post_id: $('#post_ID').val(),\n                        term_id: id,\n                        directory_type,\n                };\n                $.post(ajaxurl, data, function(response) {\n                        if (response) {\n                                var response = `<div class=\"form-group atbd_content_module\">\n                                <div class=\"atbdb_content_module_contents\">\n                                  ${response}\n                                </div>\n                              </div>`;\n                                $('.atbdp_category_custom_fields')\n                                        .empty()\n                                        .append(response);\n                                function atbdp_tooltip() {\n                                        const atbd_tooltip = document.querySelectorAll('.atbd_tooltip');\n                                        atbd_tooltip.forEach(function(el) {\n                                                if (el.getAttribute('aria-label') !== ' ') {\n                                                        document.body.addEventListener(\n                                                                'mouseover',\n                                                                function(e) {\n                                                                        for (\n                                                                                let { target } = e;\n                                                                                target && target != this;\n                                                                                target = target.parentNode\n                                                                        ) {\n                                                                                if (target.matches('.atbd_tooltip')) {\n                                                                                        el.classList.add(\n                                                                                                'atbd_tooltip_active'\n                                                                                        );\n                                                                                }\n                                                                        }\n                                                                },\n                                                                false\n                                                        );\n                                                }\n                                        });\n                                }\n                                atbdp_tooltip();\n                        } else {\n                                $('.atbdp_category_custom_fields').empty();\n                        }\n                });\n        });\n\n        // Load custom fields of the selected category in the custom post type \"atbdp_listings\"\n        $(document).ready(function() {\n                const length = $('#at_biz_dir-categorychecklist input:checked');\n                const id = [];\n                const directory_type = $('select[name=\"directory_type\"]').val();\n                length.each((el, index) => {\n                        id.push($(index).val());\n                });\n                const data = {\n                        action: 'atbdp_custom_fields_listings',\n                        post_id: $('#post_ID').val(),\n                        term_id: id,\n                        directory_type,\n                };\n                $.post(ajaxurl, data, function(response) {\n                        if (response) {\n                                var response = `<div class=\"form-group atbd_content_module\">\n                                  <div class=\"atbdb_content_module_contents\">\n                                    ${response}\n                                  </div>\n                                </div>`;\n                                $('.atbdp_category_custom_fields')\n                                        .empty()\n                                        .append(response);\n                                function atbdp_tooltip() {\n                                        const atbd_tooltip = document.querySelectorAll('.atbd_tooltip');\n                                        atbd_tooltip.forEach(function(el) {\n                                                if (el.getAttribute('aria-label') !== ' ') {\n                                                        document.body.addEventListener(\n                                                                'mouseover',\n                                                                function(e) {\n                                                                        for (\n                                                                                let { target } = e;\n                                                                                target && target != this;\n                                                                                target = target.parentNode\n                                                                        ) {\n                                                                                if (target.matches('.atbd_tooltip')) {\n                                                                                        el.classList.add(\n                                                                                                'atbd_tooltip_active'\n                                                                                        );\n                                                                                }\n                                                                        }\n                                                                },\n                                                                false\n                                                        );\n                                                }\n                                        });\n                                }\n                                atbdp_tooltip();\n                        }\n                });\n        });\n\n        const avg_review = $('#average_review_for_popular').hide();\n        const logged_count = $('#views_for_popular').hide();\n        if ($('#listing_popular_by select[name=\"listing_popular_by\"]').val() === 'average_rating') {\n                avg_review.show();\n                logged_count.hide();\n        } else if ($('#listing_popular_by select[name=\"listing_popular_by\"]').val() === 'view_count') {\n                logged_count.show();\n                avg_review.hide();\n        } else if ($('#listing_popular_by select[name=\"listing_popular_by\"]').val() === 'both_view_rating') {\n                avg_review.show();\n                logged_count.show();\n        }\n        $('#listing_popular_by select[name=\"listing_popular_by\"]').on('change', function() {\n                if ($(this).val() === 'average_rating') {\n                        avg_review.show();\n                        logged_count.hide();\n                } else if ($(this).val() === 'view_count') {\n                        logged_count.show();\n                        avg_review.hide();\n                } else if ($(this).val() === 'both_view_rating') {\n                        avg_review.show();\n                        logged_count.show();\n                }\n        });\n\n        /* // Display the media uploader when \"Upload Image\" button clicked in the custom taxonomy \"atbdp_categories\"\n(function ($) {\n\"use strict\";\nvar content = \"\";\n// Category icon selection\nfunction selecWithIcon(selected) {\nif (!selected.id) {\nreturn selected.text;\n}\nvar $elem = $(\n\"<span><span class='la \" +\nselected.element.value +\n\"'></span> \" +\nselected.text +\n\"</span>\"\n);\nreturn $elem;\n}\n\n$(\"#category_icon\").select2({\nplaceholder: atbdp_admin_data.i18n_text.icon_choose_text,\nallowClear: true,\ntemplateResult: selecWithIcon,\n});\n\n/* Show and hide manual coordinate input field */\n        if (!$('input#manual_coordinate').is(':checked')) {\n                $('#hide_if_no_manual_cor').hide();\n        }\n        $('#manual_coordinate').on('click', function(e) {\n                if ($('input#manual_coordinate').is(':checked')) {\n                        $('#hide_if_no_manual_cor').show();\n                } else {\n                        $('#hide_if_no_manual_cor').hide();\n                }\n        });\n\n        $(\"[data-toggle='tooltip']\").tooltip();\n\n        // price range\n        const pricerange = $('#pricerange_val').val();\n        if (pricerange) {\n                $('#pricerange').fadeIn(100);\n        }\n        $('#price_range_option').on('click', function() {\n                $('#pricerange').fadeIn(500);\n        });\n\n        // enable sorting if only the container has any social or skill field\n        const $s_wrap = $('#social_info_sortable_container'); // cache it\n        if (window.outerWidth > 1700) {\n                if ($s_wrap.length) {\n                        $s_wrap.sortable({\n                                axis: 'y',\n                                opacity: '0.7',\n                        });\n                }\n        }\n\n        // SOCIAL SECTION\n        // Rearrange the IDS and Add new social field\n        $('body').on('click', '#addNewSocial', function() {\n                const currentItems = $('.atbdp_social_field_wrapper').length;\n                const ID = `id=${currentItems}`; // eg. 'id=3'\n                const iconBindingElement = jQuery('#addNewSocial');\n                // arrange names ID in order before adding new elements\n                $('.atbdp_social_field_wrapper').each(function(index, element) {\n                        const e = $(element);\n                        e.attr('id', `socialID-${index}`);\n                        e.find('select').attr('name', `social[${index}][id]`);\n                        e.find('.atbdp_social_input').attr('name', `social[${index}][url]`);\n                        e.find('.removeSocialField').attr('data-id', index);\n                });\n                // now add the new elements. we could do it here without using ajax but it would require more markup here.\n                atbdp_do_ajax(iconBindingElement, 'atbdp_social_info_handler', ID, function(data) {\n                        $s_wrap.append(data);\n                });\n        });\n\n        // remove the social field and then reset the ids while maintaining position\n        $(document).on('click', '.removeSocialField', function(e) {\n                const id = $(this).data('id');\n                const elementToRemove = $(`div#socialID-${id}`);\n                event.preventDefault();\n                /* Act on the event */\n                swal(\n                        {\n                                title: atbdp_admin_data.i18n_text.confirmation_text,\n                                text: atbdp_admin_data.i18n_text.ask_conf_sl_lnk_del_txt,\n                                type: 'warning',\n                                showCancelButton: true,\n                                confirmButtonColor: '#DD6B55',\n                                confirmButtonText: atbdp_admin_data.i18n_text.confirm_delete,\n                                closeOnConfirm: false,\n                        },\n                        function(isConfirm) {\n                                if (isConfirm) {\n                                        // user has confirmed, no remove the item and reset the ids\n                                        elementToRemove.slideUp('fast', function() {\n                                                elementToRemove.remove();\n                                                // reorder the index\n                                                $('.atbdp_social_field_wrapper').each(function(index, element) {\n                                                        const e = $(element);\n                                                        e.attr('id', `socialID-${index}`);\n                                                        e.find('select').attr('name', `social[${index}][id]`);\n                                                        e.find('.atbdp_social_input').attr(\n                                                                'name',\n                                                                `social[${index}][url]`\n                                                        );\n                                                        e.find('.removeSocialField').attr('data-id', index);\n                                                });\n                                        });\n\n                                        // show success message\n                                        swal({\n                                                title: atbdp_admin_data.i18n_text.deleted,\n                                                // text: \"Item has been deleted.\",\n                                                type: 'success',\n                                                timer: 200,\n                                                showConfirmButton: false,\n                                        });\n                                }\n                        }\n                );\n        });\n\n        // upgrade old listing\n        $('#upgrade_directorist').on('click', function(event) {\n                event.preventDefault();\n                const $this = $(this);\n                // display a notice to user to wait\n                // send an ajax request to the back end\n                atbdp_do_ajax($this, 'atbdp_upgrade_old_listings', null, function(response) {\n                        if (response.success) {\n                                $this.after(`<p>${response.data}</p>`);\n                        }\n                });\n        });\n\n        // upgrade old pages\n        $('#shortcode-updated input[name=\"shortcode-updated\"]').on('change', function(event) {\n                event.preventDefault();\n                $('#success_msg').hide();\n\n                const $this = $(this);\n                // display a notice to user to wait\n                // send an ajax request to the back end\n                atbdp_do_ajax($this, 'atbdp_upgrade_old_pages', null, function(response) {\n                        if (response.success) {\n                                $('#shortcode-updated').after(`<p id=\"success_msg\">${response.data}</p>`);\n                        }\n                });\n\n                $('.atbdp_ajax_loading').css({\n                        display: 'none',\n                });\n        });\n\n        // send system info to admin\n        $('#atbdp-send-system-info-submit').on('click', function(event) {\n                event.preventDefault();\n\n                if (!$('#atbdp-email-subject').val()) {\n                        alert('The Subject field is required');\n                        return;\n                }\n                if (!$('#atbdp-email-address').val()) {\n                        alert('The Email field is required');\n                        return;\n                }\n                if (!$('#atbdp-email-message').val()) {\n                        alert('The Message field is required');\n                        return;\n                }\n                $.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: {\n                                action: 'send_system_info', // calls wp_ajax_nopriv_ajaxlogin\n                                _nonce: $('#atbdp_email_nonce').val(),\n                                email: $('#atbdp-email-address').val(),\n                                sender_email: $('#atbdp-sender-address').val(),\n                                subject: $('#atbdp-email-subject').val(),\n                                message: $('#atbdp-email-message').val(),\n                                system_info_url: $('#atbdp-system-info-url').val(),\n                        },\n                        beforeSend() {\n                                $('#atbdp-send-system-info-submit').html('Sending');\n                        },\n                        success(data) {\n                                if (data.success) {\n                                        $('#atbdp-send-system-info-submit').html('Send Email');\n                                        $('.system_info_success').html('Successfully sent');\n                                }\n                        },\n                        error(data) {\n                                console.log(data);\n                        },\n                });\n        });\n\n        /**\n         * Generate new Remote View URL and display it on the admin page\n         */\n        $('#generate-url').on('click', function(e) {\n                e.preventDefault();\n                $.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: {\n                                action: 'generate_url', // calls wp_ajax_nopriv_ajaxlogin nonce: ()\n                                _nonce: $(this).attr('data-nonce'),\n                        },\n                        success(response) {\n                                $('#atbdp-remote-response').html(response.data.message);\n                                $('#system-info-url, #atbdp-system-info-url').val(response.data.url);\n                                $('#system-info-url-text-link')\n                                        .attr('href', response.data.url)\n                                        .css('display', 'inline-block');\n                        },\n                        error(response) {\n                                // $('#atbdp-remote-response').val(response.data.error);\n                        },\n                });\n\n                return false;\n        });\n\n        $('#revoke-url').on('click', function(e) {\n                e.preventDefault();\n                $.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: {\n                                action: 'revoke_url', // calls wp_ajax_nopriv_ajaxlogin\n                                _nonce: $(this).attr('data-nonce'),\n                        },\n                        success(response) {\n                                $('#atbdp-remote-response').html(response.data);\n                                $('#system-info-url, #atbdp-system-info-url').val('');\n                                $('#system-info-url-text-link')\n                                        .attr('href', '#')\n                                        .css('display', 'none');\n                        },\n                        error(response) {\n                                // $('#atbdp-remote-response').val(response.data.error);\n                        },\n                });\n\n                return false;\n        });\n\n        // redirect to import import_page_link\n        $('#csv_import input[name=\"csv_import\"]').on('change', function(event) {\n                event.preventDefault();\n                window.location = atbdp_admin_data.import_page_link;\n        });\n\n        /* This function handles all ajax request */\n        function atbdp_do_ajax(ElementToShowLoadingIconAfter, ActionName, arg, CallBackHandler) {\n                let data;\n                if (ActionName) data = `action=${ActionName}`;\n                if (arg) data = `${arg}&action=${ActionName}`;\n                if (arg && !ActionName) data = arg;\n                // data = data ;\n\n                const n = data.search(atbdp_admin_data.nonceName);\n                if (n < 0) {\n                        data = `${data}&${atbdp_admin_data.nonceName}=${atbdp_admin_data.nonce}`;\n                }\n\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data,\n                        beforeSend() {\n                                jQuery(\"<span class='atbdp_ajax_loading'></span>\").insertAfter(\n                                        ElementToShowLoadingIconAfter\n                                );\n                        },\n                        success(data) {\n                                jQuery('.atbdp_ajax_loading').remove();\n                                CallBackHandler(data);\n                        },\n                });\n        }\n})(jQuery);\n\n// Custom Image uploader for listing image\n(function($) {\n        // Set all variables to be used in scope\n        let frame;\n        let selection;\n        const multiple_image = true;\n        const metaBox = $('#_listing_gallery'); // meta box id here\n        const addImgLink = metaBox.find('#listing_image_btn');\n        const delImgLink = metaBox.find('#delete-custom-img');\n        const imgContainer = metaBox.find('.listing-img-container');\n\n        // ADD IMAGE LINK\n        addImgLink.on('click', function(event) {\n                event.preventDefault();\n\n                // If the media frame already exists, reopen it.\n                if (frame) {\n                        frame.open();\n                        return;\n                }\n\n                // Create a new media frame\n                frame = wp.media({\n                        title: atbdp_admin_data.i18n_text.upload_image,\n                        button: {\n                                text: atbdp_admin_data.i18n_text.choose_image,\n                        },\n                        library: { type: 'image' }, // only allow image upload only\n                        multiple: multiple_image, // Set to true to allow multiple files to be selected. it will be set based on the availability of Multiple Image extension\n                });\n\n                // When an image is selected in the media frame...\n                frame.on('select', function() {\n                        /* get the image collection array if the MI extension is active */\n                        /* One little hints: a constant can not be defined inside the if block */\n                        if (multiple_image) {\n                                selection = frame\n                                        .state()\n                                        .get('selection')\n                                        .toJSON();\n                        } else {\n                                selection = frame\n                                        .state()\n                                        .get('selection')\n                                        .first()\n                                        .toJSON();\n                        }\n                        let data = ''; // create a placeholder to save all our image from the selection of media uploader\n\n                        // if no image exist then remove the place holder image before appending new image\n                        if ($('.single_attachment').length === 0) {\n                                imgContainer.html('');\n                        }\n\n                        // handle multiple image uploading.......\n                        if (multiple_image) {\n                                $(selection).each(function() {\n                                        // here el === this\n                                        // append the selected element if it is an image\n                                        if (this.type === 'image') {\n                                                // we have got an image attachment so lets proceed.\n                                                // target the input field and then assign the current id of the attachment to an array.\n                                                data += '<div class=\"single_attachment\">';\n                                                data += `<input class=\"listing_image_attachment\" name=\"listing_img[]\" type=\"hidden\" value=\"${\n                                                        this.id\n                                                }\">`;\n                                                data += `<img style=\"width: 100%; height: 100%;\" src=\"${\n                                                        this.url\n                                                }\" alt=\"Listing Image\" /> <span class=\"remove_image fa fa-times\" title=\"Remove it\"></span></div>`;\n                                        }\n                                });\n                        } else {\n                                // Handle single image uploading\n\n                                // add the id to the input field of the image uploader and then save the ids in the database as a post meta\n                                // so check if the attachment is really an image and reject other types\n                                if (selection.type === 'image') {\n                                        // we have got an image attachment so lets proceed.\n                                        // target the input field and then assign the current id of the attachment to an array.\n                                        data += '<div class=\"single_attachment\">';\n                                        data += `<input class=\"listing_image_attachment\" name=\"listing_img[]\" type=\"hidden\" value=\"${\n                                                selection.id\n                                        }\">`;\n                                        data += `<img style=\"width: 100%; height: 100%;\" src=\"${\n                                                selection.url\n                                        }\" alt=\"Listing Image\" /> <span class=\"remove_image  fa fa-times\" title=\"Remove it\"></span></div>`;\n                                }\n                        }\n\n                        // If MI extension is active then append images to the listing, else only add one image replacing previous upload\n                        if (multiple_image) {\n                                imgContainer.append(data);\n                        } else {\n                                imgContainer.html(data);\n                        }\n\n                        // Un-hide the remove image link\n                        delImgLink.removeClass('hidden');\n                });\n                // Finally, open the modal on click\n                frame.open();\n        });\n\n        // DELETE ALL IMAGES LINK\n        delImgLink.on('click', function(event) {\n                event.preventDefault();\n                // Clear out the preview image and set no image as placeholder\n                imgContainer.html(\n                        `<img src=\"${atbdp_admin_data.AdminAssetPath}images/no-image.png\" alt=\"Listing Image\" />`\n                );\n                // Hide the delete image link\n                delImgLink.addClass('hidden');\n        });\n\n        /* REMOVE SINGLE IMAGE */\n        $(document).on('click', '.remove_image', function(e) {\n                e.preventDefault();\n                $(this)\n                        .parent()\n                        .remove();\n                // if no image exist then add placeholder and hide remove image button\n                if ($('.single_attachment').length === 0) {\n                        imgContainer.html(\n                                `<img src=\"${\n                                        atbdp_admin_data.AdminAssetPath\n                                }images/no-image.png\" alt=\"Listing Image\" /><p>No images</p> ` +\n                                        `<small>(allowed formats jpeg. png. gif)</small>`\n                        );\n                        delImgLink.addClass('hidden');\n                }\n        });\n\n        const has_tagline = $('#has_tagline').val();\n        const has_excerpt = $('#has_excerpt').val();\n        if (has_excerpt && has_tagline) {\n                $('.atbd_tagline_moto_field').fadeIn();\n        } else {\n                $('.atbd_tagline_moto_field').fadeOut();\n        }\n\n        $('#atbd_optional_field_check').on('change', function() {\n                $(this).is(':checked')\n                        ? $('.atbd_tagline_moto_field').fadeIn()\n                        : $('.atbd_tagline_moto_field').fadeOut();\n        });\n\n        let imageUpload;\n        if (imageUpload) {\n                imageUpload.open();\n                return;\n        }\n\n        $('.upload-header').on('click', function(element) {\n                element.preventDefault();\n\n                imageUpload = wp.media.frames.file_frame = wp.media({\n                        title: atbdp_admin_data.i18n_text.select_prv_img,\n                        button: {\n                                text: atbdp_admin_data.i18n_text.insert_prv_img,\n                        },\n                });\n                imageUpload.open();\n\n                imageUpload.on('select', function() {\n                        prv_image = imageUpload\n                                .state()\n                                .get('selection')\n                                .first()\n                                .toJSON();\n                        prv_url = prv_image.id;\n                        prv_img_url = prv_image.url;\n\n                        $('.listing_prv_img').val(prv_url);\n                        $('.change_listing_prv_img').attr('src', prv_img_url);\n                        $('.upload-header').html('Change Preview Image');\n                        $('.remove_prev_img').show();\n                });\n\n                imageUpload.open();\n        });\n\n        $('.remove_prev_img').on('click', function(e) {\n                $(this).hide();\n                $('.listing_prv_img').attr('value', '');\n                $('.change_listing_prv_img').attr('src', '');\n                e.preventDefault();\n        });\n        if ($('.change_listing_prv_img').attr('src') === '') {\n                $('.remove_prev_img').hide();\n        } else if ($('.change_listing_prv_img').attr('src') !== '') {\n                $('.remove_prev_img').show();\n        }\n\n        // price range\n        $('#price_range').hide();\n        const is_checked = $('#atbd_listing_pricing').val();\n        if (is_checked === 'range') {\n                $('#price').hide();\n                $('#price_range').show();\n        }\n        $('.atbd_pricing_options label').on('click', function() {\n                const $this = $(this);\n                $this.children('input[type=checkbox]').prop('checked') == true\n                        ? $(`#${$this.data('option')}`).show()\n                        : $(`#${$this.data('option')}`).hide();\n                const $sibling = $this.siblings('label');\n                $sibling.children('input[type=checkbox]').prop('checked', false);\n                $(`#${$sibling.data('option')}`).hide();\n        });\n\n        // Load custom fields of the selected category in the custom post type \"atbdp_listings\"\n\n        // ekhane to apni ul e click event add korecen. eita add howa uchit checkbox e!  Ohh !\n        $('#at_biz_dir-categorychecklist').on('change', function(event) {\n                $('#atbdp-custom-fields-list').append('<div class=\"spinner\"></div>');\n\n                const length = $('#at_biz_dir-categorychecklist input:checked');\n                const id = [];\n                length.each((el, index) => {\n                        id.push($(index).val());\n                });\n                const data = {\n                        action: 'atbdp_custom_fields_listings',\n                        post_id: $('#atbdp-custom-fields-list').data('post_id'),\n                        term_id: id,\n                };\n                $.post(ajaxurl, data, function(response) {\n                        if (response == ' 0') {\n                                $('#atbdp-custom-fields-list').hide();\n                        } else {\n                                $('#atbdp-custom-fields-list').show();\n                        }\n                        $('#atbdp-custom-fields-list').html(response);\n                });\n                $('#atbdp-custom-fields-list-selected').hide();\n        });\n\n        var length = $('#at_biz_dir-categorychecklist input:checked');\n        if (length) {\n                $('#atbdp-custom-fields-list-selected').html('<div class=\"spinner\"></div>');\n\n                var length = $('#at_biz_dir-categorychecklist input:checked');\n                const id = [];\n                length.each((el, index) => {\n                        id.push($(index).val());\n                });\n                const data = {\n                        action: 'atbdp_custom_fields_listings_selected',\n                        post_id: $('#atbdp-custom-fields-list-selected').data('post_id'),\n                        term_id: id,\n                };\n\n                $.post(ajaxurl, data, function(response) {\n                        $('#atbdp-custom-fields-list-selected').html(response);\n                });\n        }\n\n        const avg_review = $('#average_review_for_popular').hide();\n        const logged_count = $('#views_for_popular').hide();\n        if ($('#listing_popular_by select[name=\"listing_popular_by\"]').val() === 'average_rating') {\n                avg_review.show();\n                logged_count.hide();\n        } else if ($('#listing_popular_by select[name=\"listing_popular_by\"]').val() === 'view_count') {\n                logged_count.show();\n                avg_review.hide();\n        } else if ($('#listing_popular_by select[name=\"listing_popular_by\"]').val() === 'both_view_rating') {\n                avg_review.show();\n                logged_count.show();\n        }\n        $('#listing_popular_by select[name=\"listing_popular_by\"]').on('change', function() {\n                if ($(this).val() === 'average_rating') {\n                        avg_review.show();\n                        logged_count.hide();\n                } else if ($(this).val() === 'view_count') {\n                        logged_count.show();\n                        avg_review.hide();\n                } else if ($(this).val() === 'both_view_rating') {\n                        avg_review.show();\n                        logged_count.show();\n                }\n        });\n\n        /* // Display the media uploader when \"Upload Image\" button clicked in the custom taxonomy \"atbdp_categories\"\n $( '#atbdp-categories-upload-image' ).on( 'click', function( e ) {\n\n     if (frame) {\n         frame.open();\n         return;\n     }\n\n     // Create a new media frame\n     frame = wp.media({\n         title: atbdp_admin_data.i18n_text.upload_cat_image,\n         button: {\n             text: atbdp_admin_data.i18n_text.choose_image\n         },\n         library: {type: 'image'}, // only allow image upload only\n         multiple: multiple_image  // Set to true to allow multiple files to be selected. it will be set based on the availability of Multiple Image extension\n     });\n     frame.open();\n }); */\n        /**\n         * Display the media uploader for selecting an image.\n         *\n         * @since    1.0.0\n         */\n        function atbdp_render_media_uploader(page) {\n                let file_frame;\n                let image_data;\n                let json;\n\n                // If an instance of file_frame already exists, then we can open it rather than creating a new instance\n                if (undefined !== file_frame) {\n                        file_frame.open();\n                        return;\n                }\n                // Here, use the wp.media library to define the settings of the media uploader\n                file_frame = wp.media.frames.file_frame = wp.media({\n                        frame: 'post',\n                        state: 'insert',\n                        multiple: false,\n                });\n\n                // Setup an event handler for what to do when an image has been selected\n                file_frame.on('insert', function() {\n                        // Read the JSON data returned from the media uploader\n                        json = file_frame\n                                .state()\n                                .get('selection')\n                                .first()\n                                .toJSON();\n\n                        // First, make sure that we have the URL of an image to display\n                        if ($.trim(json.url.length) < 0) {\n                                return;\n                        }\n                        // After that, set the properties of the image and display it\n                        if (page == 'listings') {\n                                const html =\n                                        `${'<tr class=\"atbdp-image-row\">' +\n                                                '<td class=\"atbdp-handle\"><span class=\"dashicons dashicons-screenoptions\"></span></td>' +\n                                                '<td class=\"atbdp-image\">' +\n                                                '<img src=\"'}${json.url}\" />` +\n                                        `<input type=\"hidden\" name=\"images[]\" value=\"${json.id}\" />` +\n                                        `</td>` +\n                                        `<td>${json.url}<br />` +\n                                        `<a href=\"post.php?post=${json.id}&action=edit\" target=\"_blank\">${\n                                                atbdp.edit\n                                        }</a> | ` +\n                                        `<a href=\"javascript:;\" class=\"atbdp-delete-image\" data-attachment_id=\"${\n                                                json.id\n                                        }\">${atbdp.delete_permanently}</a>` +\n                                        `</td>` +\n                                        `</tr>`;\n\n                                $('#atbdp-images').append(html);\n                        } else {\n                                $('#atbdp-categories-image-id').val(json.id);\n                                $('#atbdp-categories-image-wrapper').html(\n                                        `<img src=\"${\n                                                json.url\n                                        }\" /><a href=\"\" class=\"remove_cat_img\"><span class=\"fa fa-times\" title=\"Remove it\"></span></a>`\n                                );\n                        }\n                });\n\n                // Now display the actual file_frame\n                file_frame.open();\n        }\n\n        // Display the media uploader when \"Upload Image\" button clicked in the custom taxonomy \"atbdp_categories\"\n        $('#atbdp-categories-upload-image').on('click', function(e) {\n                e.preventDefault();\n\n                atbdp_render_media_uploader('categories');\n        });\n\n        $('#submit').on('click', function() {\n                $('#atbdp-categories-image-wrapper img').attr('src', '');\n                $('.remove_cat_img').remove();\n        });\n\n        $(document).on('click', '.remove_cat_img', function(e) {\n                e.preventDefault();\n                $(this).hide();\n                $(this)\n                        .prev('img')\n                        .remove();\n                $('#atbdp-categories-image-id').attr('value', '');\n        });\n\n        // Announcement\n        // ----------------------------------------------------------------------------------\n        // Display Announcement Recepents\n        const announcement_to = $('select[name=\"announcement_to\"]');\n        const announcement_recepents_section = $('#announcement_recepents');\n        toggle_section('selected_user', announcement_to, announcement_recepents_section);\n        announcement_to.on('change', function() {\n                toggle_section('selected_user', $(this), announcement_recepents_section);\n        });\n\n        const submit_button = $('#announcement_submit .vp-input ~ span');\n        const form_feedback = $('#announcement_submit .field');\n        form_feedback.prepend('<div class=\"announcement-feedback\"></div>');\n\n        let announcement_is_sending = false;\n\n        // Send Announcement\n        submit_button.on('click', function() {\n                if (announcement_is_sending) {\n                        console.log('Please wait...');\n                        return;\n                }\n\n                const to = $('select[name=\"announcement_to\"]');\n                const recepents = $('select[name=\"announcement_recepents\"]');\n                const subject = $('input[name=\"announcement_subject\"]');\n                const message = $('textarea[name=\"announcement_message\"]');\n                const expiration = $('input[name=\"announcement_expiration\"]');\n                const send_to_email = $('input[name=\"announcement_send_to_email\"]');\n\n                const fields_elm = {\n                        to: { elm: to, value: to.val(), default: 'all_user' },\n                        recepents: { elm: recepents, value: recepents.val(), default: null },\n                        subject: { elm: subject, value: subject.val(), default: '' },\n                        message: { elm: message, value: message.val(), default: '' },\n                        expiration: { elm: expiration, value: expiration.val(), default: 3 },\n                        send_to_email: { elm: send_to_email.val(), value: send_to_email.val(), default: 1 },\n                };\n\n                // Send the form\n                const form_data = new FormData();\n\n                // Fillup the form\n                form_data.append('action', 'atbdp_send_announcement');\n                for (field in fields_elm) {\n                        form_data.append(field, fields_elm[field].value);\n                }\n\n                announcement_is_sending = true;\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        processData: false,\n                        contentType: false,\n                        beforeSend() {\n                                // console.log( 'Sending...' );\n                                form_feedback\n                                        .find('.announcement-feedback')\n                                        .html('<div class=\"form-alert\">Sending the announcement, please wait..</div>');\n                        },\n                        success(response) {\n                                // console.log( {response} );\n                                announcement_is_sending = false;\n\n                                if (response.message) {\n                                        form_feedback\n                                                .find('.announcement-feedback')\n                                                .html(`<div class=\"form-alert\">${response.message}</div>`);\n                                }\n                        },\n                        error(error) {\n                                console.log({ error });\n                                announcement_is_sending = false;\n                        },\n                });\n\n                // Reset Form\n                /* for ( var field in fields_elm  ) {\n  $( fields_elm[ field ].elm ).val( fields_elm[ field ].default );\n} */\n        });\n\n        // ----------------------------------------------------------------------------------\n\n        // Custom Tab Support Status\n        $('.atbds_wrapper a.nav-link').on('click', function(e) {\n                e.preventDefault();\n\n                console.log($(this).data('tabarea'));\n                const atbds_tabParent = $(this)\n                        .parent()\n                        .parent()\n                        .find('a.nav-link');\n                const $href = $(this).attr('href');\n                $(atbds_tabParent).removeClass('active');\n                $(this).addClass('active');\n                console.log($(\".tab-content[data-tabarea='atbds_system-info-tab']\"));\n\n                switch ($(this).data('tabarea')) {\n                        case 'atbds_system-status-tab':\n                                $(\".tab-content[data-tabarea='atbds_system-status-tab'] >.tab-pane\").removeClass(\n                                        'active show'\n                                );\n                                $(`.tab-content[data-tabarea='atbds_system-status-tab'] ${$href}`).addClass(\n                                        'active show'\n                                );\n                                break;\n                        case 'atbds_system-info-tab':\n                                $(\".tab-content[data-tabarea='atbds_system-info-tab'] >.tab-pane\").removeClass(\n                                        'active show'\n                                );\n                                $(`.tab-content[data-tabarea='atbds_system-info-tab'] ${$href}`).addClass(\n                                        'active show'\n                                );\n                                break;\n                        default:\n                                break;\n                }\n        });\n\n        // Custom Tooltip Support Added\n        $('.atbds_tooltip').on('hover', function() {\n                const toolTipLabel = $(this).data('label');\n                console.log(toolTipLabel);\n                $(this)\n                        .find('.atbds_tooltip__text')\n                        .text(toolTipLabel);\n                $(this)\n                        .find('.atbds_tooltip__text')\n                        .addClass('show');\n        });\n\n        $('.atbds_tooltip').on('mouseleave', function() {\n                $('.atbds_tooltip__text').removeClass('show');\n        });\n        \n\n        const directory_type = $('select[name=\"directory_type\"]').val();\n        if (directory_type) {\n                admin_listing_form(directory_type);\n        }\n        $('body').on('change', 'select[name=\"directory_type\"]', function() {\n                $(this)\n                        .parent('.inside')\n                        .append(`<span class=\"directorist_loader\"></span>`);\n                admin_listing_form($(this).val());\n\n                $(this)\n                        .closest('#poststuff')\n                        .find('#publishing-action')\n                        .addClass('directorist_disable');\n        });\n\n        function admin_listing_form(directory_type) {\n                $.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: {\n                                action: 'atbdp_dynamic_admin_listing_form',\n                                directory_type: directory_type,\n                                listing_id: $('#directiost-listing-fields_wrapper').data('id'),\n                        },\n                        success(response) {\n                                $('#directiost-listing-fields_wrapper')\n                                        .empty()\n                                        .append(response.data['listing_meta_fields']);\n                                assetsNeedToWorkInVirtualDom();\n                                $('#at_biz_dir-locationchecklist')\n                                                .empty()\n                                                .html( response.data['listing_locations'] );\n                                $('#at_biz_dir-categorychecklist')\n                                                .empty()\n                                                .html( response.data['listing_categories'] );\n                                $('#listing_form_info')\n                                        .find('.directorist_loader')\n                                        .remove();\n                                $('select[name=\"directory_type\"]')\n                                        .closest('#poststuff')\n                                        .find('#publishing-action')\n                                        .removeClass('directorist_disable');\n                        },\n                });\n        }\n\n        // default directory type\n        $('body').on('click', '.submitdefault', function(e) {\n                e.preventDefault();\n                $(this)\n                        .children('.submitDefaultCheckbox')\n                        .prop('checked', true);\n                const defaultSubmitDom = $(this);\n                defaultSubmitDom\n                        .closest('.directorist_listing-actions')\n                        .append(`<span class=\"directorist_loader\"></span>`);\n                $.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: {\n                                action: 'atbdp_listing_default_type',\n                                type_id: $(this).data('type-id'),\n                        },\n                        success(response) {\n                                defaultSubmitDom\n                                        .closest('.directorist_listing-actions')\n                                        .siblings('.directorist_notifier')\n                                        .append(`<span class=\"atbd-listing-type-active-status\">${response}</span>`);\n                                defaultSubmitDom\n                                        .closest('.directorist_listing-actions')\n                                        .children('.directorist_loader')\n                                        .remove();\n                                setTimeout(function() {\n                                        location.reload();\n                                }, 500);\n                        },\n                });\n        });\n\n        function assetsNeedToWorkInVirtualDom() {\n                // price range\n                $('#price_range').hide();\n                const pricing = $('#atbd_listing_pricing').val();\n                if (pricing === 'range') {\n                        $('#price').hide();\n                        $('#price_range').show();\n                }\n                $('.atbd_pricing_options label').on('click', function() {\n                        const $this = $(this);\n                        $this.children('input[type=checkbox]').prop('checked') == true\n                                ? $(`#${$this.data('option')}`).show()\n                                : $(`#${$this.data('option')}`).hide();\n                        const $sibling = $this.siblings('label');\n                        $sibling.children('input[type=checkbox]').prop('checked', false);\n                        $(`#${$sibling.data('option')}`).hide();\n                });\n\n                let frame;\n                let selection;\n                const multiple_image = true;\n                const metaBox = $('#_listing_gallery'); // meta box id here\n                const addImgLink = metaBox.find('#listing_image_btn');\n                const delImgLink = metaBox.find('#delete-custom-img');\n                const imgContainer = metaBox.find('.listing-img-container');\n\n                // ADD IMAGE LINK\n                addImgLink.on('click', function(event) {\n                        event.preventDefault();\n\n                        // If the media frame already exists, reopen it.\n                        if (frame) {\n                                frame.open();\n                                return;\n                        }\n\n                        // Create a new media frame\n                        frame = wp.media({\n                                title: atbdp_admin_data.i18n_text.upload_image,\n                                button: {\n                                        text: atbdp_admin_data.i18n_text.choose_image,\n                                },\n                                library: { type: 'image' }, // only allow image upload only\n                                multiple: multiple_image, // Set to true to allow multiple files to be selected. it will be set based on the availability of Multiple Image extension\n                        });\n\n                        // When an image is selected in the media frame...\n                        frame.on('select', function() {\n                                /* get the image collection array if the MI extension is active */\n                                /* One little hints: a constant can not be defined inside the if block */\n                                if (multiple_image) {\n                                        selection = frame\n                                                .state()\n                                                .get('selection')\n                                                .toJSON();\n                                } else {\n                                        selection = frame\n                                                .state()\n                                                .get('selection')\n                                                .first()\n                                                .toJSON();\n                                }\n                                let data = ''; // create a placeholder to save all our image from the selection of media uploader\n\n                                // if no image exist then remove the place holder image before appending new image\n                                if ($('.single_attachment').length === 0) {\n                                        imgContainer.html('');\n                                }\n\n                                // handle multiple image uploading.......\n                                if (multiple_image) {\n                                        $(selection).each(function() {\n                                                // here el === this\n                                                // append the selected element if it is an image\n                                                if (this.type === 'image') {\n                                                        // we have got an image attachment so lets proceed.\n                                                        // target the input field and then assign the current id of the attachment to an array.\n                                                        data += '<div class=\"single_attachment\">';\n                                                        data += `<input class=\"listing_image_attachment\" name=\"listing_img[]\" type=\"hidden\" value=\"${\n                                                                this.id\n                                                        }\">`;\n                                                        data += `<img style=\"width: 100%; height: 100%;\" src=\"${\n                                                                this.url\n                                                        }\" alt=\"Listing Image\" /> <span class=\"remove_image fa fa-times\" title=\"Remove it\"></span></div>`;\n                                                }\n                                        });\n                                } else {\n                                        // Handle single image uploading\n\n                                        // add the id to the input field of the image uploader and then save the ids in the database as a post meta\n                                        // so check if the attachment is really an image and reject other types\n                                        if (selection.type === 'image') {\n                                                // we have got an image attachment so lets proceed.\n                                                // target the input field and then assign the current id of the attachment to an array.\n                                                data += '<div class=\"single_attachment\">';\n                                                data += `<input class=\"listing_image_attachment\" name=\"listing_img[]\" type=\"hidden\" value=\"${\n                                                        selection.id\n                                                }\">`;\n                                                data += `<img style=\"width: 100%; height: 100%;\" src=\"${\n                                                        selection.url\n                                                }\" alt=\"Listing Image\" /> <span class=\"remove_image  fa fa-times\" title=\"Remove it\"></span></div>`;\n                                        }\n                                }\n\n                                // If MI extension is active then append images to the listing, else only add one image replacing previous upload\n                                if (multiple_image) {\n                                        imgContainer.append(data);\n                                } else {\n                                        imgContainer.html(data);\n                                }\n\n                                // Un-hide the remove image link\n                                delImgLink.removeClass('hidden');\n                        });\n                        // Finally, open the modal on click\n                        frame.open();\n                });\n\n                // DELETE ALL IMAGES LINK\n                delImgLink.on('click', function(event) {\n                        event.preventDefault();\n                        // Clear out the preview image and set no image as placeholder\n                        imgContainer.html(\n                                `<img src=\"${\n                                        atbdp_admin_data.AdminAssetPath\n                                }images/no-image.png\" alt=\"Listing Image\" />`\n                        );\n                        // Hide the delete image link\n                        delImgLink.addClass('hidden');\n                });\n\n                /* REMOVE SINGLE IMAGE */\n                $(document).on('click', '.remove_image', function(e) {\n                        e.preventDefault();\n                        $(this)\n                                .parent()\n                                .remove();\n                        // if no image exist then add placeholder and hide remove image button\n                        if ($('.single_attachment').length === 0) {\n                                imgContainer.html(\n                                        `<img src=\"${\n                                                atbdp_admin_data.AdminAssetPath\n                                        }images/no-image.png\" alt=\"Listing Image\" /><p>No images</p> ` +\n                                                `<small>(allowed formats jpeg. png. gif)</small>`\n                                );\n                                delImgLink.addClass('hidden');\n                        }\n                });\n\n                let imageUpload;\n                if (imageUpload) {\n                        imageUpload.open();\n                        return;\n                }\n\n                $('.upload-header').on('click', function(element) {\n                        element.preventDefault();\n\n                        imageUpload = wp.media.frames.file_frame = wp.media({\n                                title: atbdp_admin_data.i18n_text.select_prv_img,\n                                button: {\n                                        text: atbdp_admin_data.i18n_text.insert_prv_img,\n                                },\n                        });\n                        imageUpload.open();\n\n                        imageUpload.on('select', function() {\n                                prv_image = imageUpload\n                                        .state()\n                                        .get('selection')\n                                        .first()\n                                        .toJSON();\n                                prv_url = prv_image.id;\n                                prv_img_url = prv_image.url;\n\n                                $('.listing_prv_img').val(prv_url);\n                                $('.change_listing_prv_img').attr('src', prv_img_url);\n                                $('.upload-header').html('Change Preview Image');\n                                $('.remove_prev_img').show();\n                        });\n\n                        imageUpload.open();\n                });\n\n                $('.remove_prev_img').on('click', function(e) {\n                        $(this).hide();\n                        $('.listing_prv_img').attr('value', '');\n                        $('.change_listing_prv_img').attr('src', '');\n                        e.preventDefault();\n                });\n                if ($('.change_listing_prv_img').attr('src') === '') {\n                        $('.remove_prev_img').hide();\n                } else if ($('.change_listing_prv_img').attr('src') !== '') {\n                        $('.remove_prev_img').show();\n                }\n\n                /* Show and hide manual coordinate input field */\n                if (!$('input#manual_coordinate').is(':checked')) {\n                        $('#hide_if_no_manual_cor').hide();\n                }\n                $('#manual_coordinate').on('click', function(e) {\n                        if ($('input#manual_coordinate').is(':checked')) {\n                                $('#hide_if_no_manual_cor').show();\n                        } else {\n                                $('#hide_if_no_manual_cor').hide();\n                        }\n                });\n        }\n})(jQuery);\n\n// toggle_section\nfunction toggle_section(show_if_value, subject_elm, terget_elm) {\n        if (show_if_value === subject_elm.val()) {\n                terget_elm.show();\n        } else {\n                terget_elm.hide();\n        }\n}\n\n// Helpers\n// -----------------------------------\n/*\n    Plugin: PureScriptTab\n    Version: 1.0.0\n    License: MIT\n*/\n(function($) {\n        const pureScriptTab = selector1 => {\n                const selector = document.querySelectorAll(selector1);\n                selector.forEach((el, index) => {\n                        a = el.querySelectorAll('.atbd_tn_link');\n\n                        a.forEach((element, index) => {\n                                element.style.cursor = 'pointer';\n                                element.addEventListener('click', event => {\n                                        event.preventDefault();\n                                        event.stopPropagation();\n\n                                        const ul = event.target.closest('.atbd_tab_nav');\n                                        const main = ul.nextElementSibling;\n                                        const item_a = ul.querySelectorAll('.atbd_tn_link');\n                                        const section = main.querySelectorAll('.atbd_tab_inner');\n\n                                        item_a.forEach((ela, ind) => {\n                                                ela.classList.remove('tabItemActive');\n                                        });\n                                        event.target.classList.add('tabItemActive');\n\n                                        section.forEach((element1, index) => {\n                                                // console.log(element1);\n                                                element1.classList.remove('tabContentActive');\n                                        });\n                                        const { target } = event.target;\n                                        document.getElementById(target).classList.add('tabContentActive');\n                                });\n                        });\n                });\n        };\n\n        pureScriptTab('.directorist_builder--tab');\n\n        /* Copy shortcodes on click */\n        $('body').on('click', '.atbdp_shortcodes', function() {\n                const $this = $(this);\n                const $temp = $('<input>');\n                $('body').append($temp);\n                $temp.val($(this).text()).select();\n                document.execCommand('copy');\n                $temp.remove();\n                $(this).after(\n                        \"<p class='copy-notify' style='color: #32cc6f; margin-top: 5px;'>Copied to clipboard!</p>\"\n                );\n                setTimeout(function() {\n                        $this.siblings('.copy-notify').fadeOut(300, function() {\n                                $(this).remove();\n                        });\n                }, 3000);\n        });\n})(jQuery);\n\n// Dropdown\n(function($) {\n        $('body').on('click', '.directorist_settings-trigger', function() {\n                $('.setting-left-sibebar').toggleClass('active');\n                $('.directorist_settings-panel-shade').toggleClass('active');\n        });\n        $('body').on('click', '.directorist_settings-panel-shade', function() {\n                $('.setting-left-sibebar').removeClass('active');\n                $(this).removeClass('active');\n        });\n\n        // $('body').on('click', '.directorist_dropdown .directorist_dropdown-toggle', function(){\n        //   $('.directorist_dropdown-option').toggle();\n        // });\n\n        // // Select Option after click\n        // $('body').on('click','.directorist_dropdown .directorist_dropdown-option ul li a', function(){\n        //   console.log(\"works\");\n        //   let optionText = $(this).html();\n        //   $('.directorist_dropdown .directorist_dropdown-toggle .directorist_dropdown-toggle__text').html(optionText);\n        //   $('.directorist_dropdown-option').hide();\n        // });\n\n        // // Hide Clicked Anywhere\n        // $(document).bind('click', function(e) {\n        //   let clickedDom = $(e.target);\n        //   if(!clickedDom.parents().hasClass('directorist_dropdown'))\n        //   $('.directorist_dropdown-option').hide();\n        // });\n\n        // Directorist More Dropdown\n        $('body').on('click', '.directorist_more-dropdown-toggle', function(e) {\n                e.preventDefault();\n                $(this).toggleClass('active');\n                $('.directorist_more-dropdown-option').removeClass('active');\n                $(this)\n                        .siblings('.directorist_more-dropdown-option')\n                        .removeClass('active');\n                $(this)\n                        .next('.directorist_more-dropdown-option')\n                        .toggleClass('active');\n                e.stopPropagation();\n        });\n        $(document).on('click', function(e) {\n                if ($(e.target).is('.directorist_more-dropdown-toggle, .active') === false) {\n                        $('.directorist_more-dropdown-option').removeClass('active');\n                        $('.directorist_more-dropdown-toggle').removeClass('active');\n                }\n        });\n\n        // Select Dropdown \n        $('body').on('click', '.directorist_dropdown .directorist_dropdown-toggle', function(e){\n                e.preventDefault();\n                $(this).siblings('.directorist_dropdown-option').toggle();\n        });\n\n        // Select Option after click\n        $('body').on('click','.directorist_dropdown .directorist_dropdown-option ul li a', function(e){\n                e.preventDefault();\n                let optionText = $(this).html();\n                $(this).children('.directorist_dropdown-toggle__text').html(optionText)\n                $(this).closest('.directorist_dropdown-option').siblings('.directorist_dropdown-toggle').children('.directorist_dropdown-toggle__text').html(optionText);\n                $('.directorist_dropdown-option').hide();\n        });\n\n        // Hide Clicked Anywhere\n        $(document).bind('click', function(e) {\n                let clickedDom = $(e.target);\n                if(!clickedDom.parents().hasClass('directorist_dropdown'))\n                $('.directorist_dropdown-option').hide();\n        });\n\n        // Tab Content\n        // ----------------------------------------------------------------------------------\n        // Modular, classes has no styling, so reusable\n        $('.atbdp-tab__nav-link').on('click', function(e) {\n                e.preventDefault();\n\n                const data_target = $(this).data('target');\n                const current_item = $(this).parent();\n\n                // Active Nav Item\n                $('.atbdp-tab__nav-item').removeClass('active');\n                current_item.addClass('active');\n\n                // Active Tab Content\n                $('.atbdp-tab__content').removeClass('active');\n                $(data_target).addClass('active');\n        });\n\n        // Custom\n        $('.atbdp-tab-nav-menu__link').on('click', function(e) {\n                e.preventDefault();\n\n                const data_target = $(this).data('target');\n                const current_item = $(this).parent();\n\n                // Active Nav Item\n                $('.atbdp-tab-nav-menu__item').removeClass('active');\n                current_item.addClass('active');\n\n                // Active Tab Content\n                $('.atbdp-tab-content').removeClass('active');\n                $(data_target).addClass('active');\n        });\n\n        // Section Toggle\n        $('.atbdp-section-toggle').on('click', function(e) {\n                e.preventDefault();\n\n                const data_target = $(this).data('target');\n                $(data_target).slideToggle();\n        });\n\n        // Accordion Toggle\n        $('.atbdp-accordion-toggle').on('click', function(e) {\n                e.preventDefault();\n\n                const data_parent = $(this).data('parent');\n                const data_target = $(this).data('target');\n\n                if ($(data_target).hasClass('active')) {\n                        $(data_target).removeClass('active');\n                        $(data_target).slideUp();\n                } else {\n                        $(data_parent)\n                                .find('.atbdp-accordion-content')\n                                .removeClass('active');\n                        $(data_target).toggleClass('active');\n\n                        $(data_parent)\n                                .find('.atbdp-accordion-content')\n                                .slideUp();\n                        $(data_target).slideToggle();\n                }\n        });\n\n        // License Authentication\n        // ----------------------------------------------------------\n        // atbdp_get_license_authentication\n        let is_sending = false;\n        $('#atbdp-directorist-license-login-form').on('submit', function(e) {\n                e.preventDefault();\n                if (is_sending) {\n                        return;\n                }\n\n                const form = $(this);\n                const submit_button = form.find('button[type=\"submit\"]');\n\n                const form_data = {\n                        action: 'atbdp_authenticate_the_customer',\n                        username: form.find('input[name=\"username\"]').val(),\n                        password: form.find('input[name=\"password\"]').val(),\n                };\n\n                $('.atbdp-form-feedback').html('');\n\n                is_sending = true;\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                submit_button.prepend(\n                                        '<span class=\"atbdp-loading\"><span class=\"fas fa-spinner fa-spin\"></span></span>'\n                                );\n                                submit_button.attr('disabled', true);\n                        },\n                        success(response) {\n                                // console.log(response);\n                                if (response.has_previous_subscriptions) {\n                                        location.reload();\n                                        return;\n                                }\n\n                                is_sending = false;\n                                submit_button.attr('disabled', false);\n                                submit_button.find('.atbdp-loading').remove();\n\n                                if (response.status.log) {\n                                        for (const feedback in response.status.log) {\n                                                console.log(response.status.log[feedback]);\n                                                const alert_type = response.status.log[feedback].type === 'success';\n                                                let alert = `<div class=\"atbdp-form-alert\"`;\n                                                const alert_message = response.status.log[feedback].message;\n                                                alert = `<div class=\"atbdp-form-alert ${alert_type}\">${alert_message}<div>`;\n\n                                                $('.atbdp-form-feedback').append(alert);\n                                        }\n                                }\n\n                                if (response.status.success) {\n                                        form.attr('id', 'atbdp-product-download-form');\n                                        form.find('.atbdp-form-page').remove();\n\n                                        const form_response_page = form.find('.atbdp-form-response-page');\n                                        form_response_page.removeClass('atbdp-d-none');\n\n                                        // Append Response\n                                        form_response_page.append('<div class=\"atbdp-form-feedback\"></div>');\n\n                                        const themes =\n                                                response.license_data && response.license_data.themes\n                                                        ? response.license_data.themes\n                                                        : [];\n                                        const plugins =\n                                                response.license_data && response.license_data.plugins\n                                                        ? response.license_data.plugins\n                                                        : [];\n\n                                        const total_theme = themes.length;\n                                        const total_plugin = plugins.length;\n\n                                        // console.log( { plugins, themes } );\n\n                                        if (!plugins.length && !themes.length) {\n                                                var title =\n                                                        '<h3 class=\"h3 form-header-title\">There is no product in your purchase, redirecting...</h3>';\n                                                form_response_page.find('.atbdp-form-feedback').append(title);\n                                                location.reload();\n\n                                                return;\n                                        }\n\n                                        var title = '<h3 class=\"h3 form-header-title\">Activate your products</h3>';\n                                        form_response_page.find('.atbdp-form-feedback').append(title);\n\n                                        // Show Log - Themes\n                                        if (total_theme) {\n                                                const theme_section =\n                                                        '<div class=\"atbdp-checklist-section atbdp-themes-list-section\"></div>';\n                                                form_response_page.find('.atbdp-form-feedback').append(theme_section);\n\n                                                const theme_title = `<h4 class=\"atbdp-theme-title\">Themes <span class=\"atbdp-count\">(${\n                                                        themes.length\n                                                })</span></h4>`;\n                                                const theme_check_lists =\n                                                        '<ul class=\"atbdp-check-lists atbdp-themes-list\"></ul>';\n\n                                                form_response_page\n                                                        .find('.atbdp-themes-list-section')\n                                                        .append(theme_title);\n                                                form_response_page\n                                                        .find('.atbdp-themes-list-section')\n                                                        .append(theme_check_lists);\n\n                                                var counter = 0;\n                                                for (const theme of themes) {\n                                                        // console.log( theme );\n                                                        var checkbox = `<input type=\"checkbox\" class=\"atbdp-checkbox atbdp-theme-checkbox-item-${\n                                                                theme.item_id\n                                                        }\" value=\"${theme.item_id}\" id=\"${theme.item_id}\">`;\n                                                        var label = `<label for=\"${theme.item_id}\">${\n                                                                theme.title\n                                                        }</label>`;\n                                                        var list_action = `<span class=\"atbdp-list-action\">${checkbox}</span> `;\n                                                        var li = `<li class=\"atbdp-check-list-item atbdp-theme-checklist-item check-list-item-${\n                                                                theme.item_id\n                                                        }\">${list_action}${label}</li>`;\n                                                        form_response_page.find('.atbdp-themes-list').append(li);\n                                                        counter++;\n                                                }\n                                        }\n\n                                        // Show Log - Extensions\n                                        if (total_plugin) {\n                                                const plugin_section =\n                                                        '<div class=\"atbdp-checklist-section atbdp-extensions-list-section\"></div>';\n                                                form_response_page.find('.atbdp-form-feedback').append(plugin_section);\n\n                                                const plugin_title = `<h4 class=\"atbdp-extension-title\">Extensions <span class=\"atbdp-count\">(${\n                                                        plugins.length\n                                                })</span></h4>`;\n                                                const plugin_check_lists =\n                                                        '<ul class=\"atbdp-check-lists atbdp-extensions-list\"></ul>';\n\n                                                form_response_page\n                                                        .find('.atbdp-extensions-list-section')\n                                                        .append(plugin_title);\n                                                form_response_page\n                                                        .find('.atbdp-extensions-list-section')\n                                                        .append(plugin_check_lists);\n\n                                                var counter = 0;\n                                                for (const extension of plugins) {\n                                                        // console.log( extension );\n                                                        var checkbox = `<input type=\"checkbox\" class=\"atbdp-checkbox atbdp-plugin-checkbox-item-${\n                                                                extension.item_id\n                                                        }\" value=\"${extension.item_id}\" id=\"${extension.item_id}\">`;\n                                                        var list_action = `<span class=\"atbdp-list-action\">${checkbox}</span> `;\n                                                        var label = `<label for=\"${extension.item_id}\">${\n                                                                extension.title\n                                                        }</label>`;\n                                                        var li = `<li class=\"atbdp-check-list-item atbdp-plugin-checklist-item check-list-item-${\n                                                                extension.item_id\n                                                        }\">${list_action}${label}</li>`;\n\n                                                        form_response_page.find('.atbdp-extensions-list').append(li);\n                                                        counter++;\n                                                }\n                                        }\n\n                                        const continue_button =\n                                                '<div class=\"account-connect__form-btn\"><button type=\"button\" class=\"account-connect__btn atbdp-download-products-btn\">Continue <span class=\"la la-arrow-right\"></span></button></div>';\n                                        const skip_button =\n                                                '<a href=\"#\" class=\"atbdp-link atbdp-link-secondery reload\">Skip</a>';\n\n                                        form_response_page.append(continue_button);\n                                        form_response_page.append(skip_button);\n\n                                        $('.atbdp-download-products-btn').on('click', function(e) {\n                                                $(this).prop('disabled', true);\n\n                                                let skiped_themes = 0;\n                                                $(\n                                                        '.atbdp-theme-checklist-item .atbdp-list-action .atbdp-checkbox'\n                                                ).each(function(i, e) {\n                                                        const is_checked = $(e).is(':checked');\n\n                                                        if (!is_checked) {\n                                                                const id = $(e).attr('id');\n                                                                const list_item = $(`.check-list-item-${id}`);\n                                                                list_item.remove();\n\n                                                                skiped_themes++;\n                                                        }\n                                                });\n\n                                                let skiped_plugins = 0;\n                                                $(\n                                                        '.atbdp-plugin-checklist-item .atbdp-list-action .atbdp-checkbox'\n                                                ).each(function(i, e) {\n                                                        const is_checked = $(e).is(':checked');\n\n                                                        if (!is_checked) {\n                                                                const id = $(e).attr('id');\n                                                                const list_item = $(`.check-list-item-${id}`);\n                                                                list_item.remove();\n\n                                                                skiped_plugins++;\n                                                        }\n                                                });\n\n                                                const new_theme_count = total_theme - skiped_themes;\n                                                const new_plugin_count = total_plugin - skiped_plugins;\n\n                                                $('.atbdp-theme-title')\n                                                        .find('.atbdp-count')\n                                                        .html(`(${new_theme_count})`);\n                                                $('.atbdp-extension-title')\n                                                        .find('.atbdp-count')\n                                                        .html(`(${new_plugin_count})`);\n\n                                                $('.atbdp-check-list-item .atbdp-list-action .atbdp-checkbox').css(\n                                                        'display',\n                                                        'none'\n                                                );\n                                                $('.atbdp-check-list-item .atbdp-list-action').prepend(\n                                                        '<span class=\"atbdp-icon atbdp-text-danger\"><span class=\"fas fa-times\"></span></span> '\n                                                );\n\n                                                const files_download_states = {\n                                                        succeeded_plugin_downloads: [],\n                                                        failed_plugin_downloads: [],\n                                                        succeeded_theme_downloads: [],\n                                                        failed_theme_downloads: [],\n                                                };\n\n                                                // Download Files\n                                                var download_files = function(file_list, counter, callback) {\n                                                        if (counter > file_list.length - 1) {\n                                                                if (callback) {\n                                                                        callback();\n                                                                }\n\n                                                                return;\n                                                        }\n                                                        const next_index = counter + 1;\n                                                        const file_item = file_list[counter];\n                                                        const { file } = file_item;\n                                                        const file_type = file_item.type;\n\n                                                        const list_item = $(`.check-list-item-${file.item_id}`);\n                                                        const icon_elm = list_item.find(\n                                                                '.atbdp-list-action .atbdp-icon'\n                                                        );\n                                                        const list_checkbox = $(\n                                                                `.atbdp-${file_type}-checkbox-item-${file.item_id}`\n                                                        );\n                                                        const is_checked = list_checkbox.is(':checked');\n\n                                                        if (!is_checked) {\n                                                                download_files(file_list, next_index, callback);\n                                                                return;\n                                                        }\n\n                                                        const form_data = {\n                                                                action: 'atbdp_download_file',\n                                                                download_item: file,\n                                                                type: file_type,\n                                                        };\n                                                        jQuery.ajax({\n                                                                type: 'post',\n                                                                url: atbdp_admin_data.ajaxurl,\n                                                                data: form_data,\n                                                                beforeSend() {\n                                                                        icon_elm.removeClass('atbdp-text-danger');\n                                                                        icon_elm.html(\n                                                                                '<span class=\"fas fa-circle-notch fa-spin\"></span>'\n                                                                        );\n                                                                },\n                                                                success(response) {\n                                                                        console.log('success', counter, response);\n\n                                                                        if (response.status.success) {\n                                                                                icon_elm.addClass('atbdp-text-success');\n                                                                                icon_elm.html(\n                                                                                        '<span class=\"fas fa-check\"></span>'\n                                                                                );\n\n                                                                                if (file_type == 'plugin') {\n                                                                                        files_download_states.succeeded_plugin_downloads.push(\n                                                                                                file\n                                                                                        );\n                                                                                }\n\n                                                                                if (file_type == 'theme') {\n                                                                                        files_download_states.succeeded_theme_downloads.push(\n                                                                                                file\n                                                                                        );\n                                                                                }\n                                                                        } else {\n                                                                                const msg = `<span class=\"atbdp-list-feedback atbdp-text-danger\">${\n                                                                                        response.status.message\n                                                                                }</span>`;\n                                                                                list_item.append(msg);\n                                                                                icon_elm.addClass('atbdp-text-danger');\n                                                                                icon_elm.html(\n                                                                                        '<span class=\"fas fa-times\"></span>'\n                                                                                );\n\n                                                                                if (file_type == 'plugin') {\n                                                                                        files_download_states.failed_plugin_downloads.push(\n                                                                                                file\n                                                                                        );\n                                                                                }\n\n                                                                                if (file_type == 'theme') {\n                                                                                        files_download_states.failed_theme_downloads.push(\n                                                                                                file\n                                                                                        );\n                                                                                }\n                                                                        }\n\n                                                                        download_files(file_list, next_index, callback);\n                                                                },\n                                                                error(error) {\n                                                                        console.log(error);\n\n                                                                        icon_elm.addClass('atbdp-text-danger');\n                                                                        icon_elm.html(\n                                                                                '<span class=\"fas fa-times\"></span>'\n                                                                        );\n                                                                },\n                                                        });\n                                                };\n\n                                                // Remove Unnecessary Sections\n                                                if (!new_theme_count) {\n                                                        $('.atbdp-themes-list-section').remove();\n                                                }\n\n                                                if (!new_plugin_count) {\n                                                        $('.atbdp-extensions-list-section').remove();\n                                                }\n\n                                                if (new_theme_count || new_plugin_count) {\n                                                        const form_header_title = 'Activating your products';\n                                                        form_response_page\n                                                                .find('.atbdp-form-feedback .form-header-title')\n                                                                .html(form_header_title);\n                                                }\n\n                                                const downloading_files = [];\n\n                                                // Download Themes\n                                                if (new_theme_count) {\n                                                        for (const theme of themes) {\n                                                                downloading_files.push({ file: theme, type: 'theme' });\n                                                        }\n                                                }\n\n                                                // Download Plugins\n                                                if (new_plugin_count) {\n                                                        for (const plugin of plugins) {\n                                                                downloading_files.push({\n                                                                        file: plugin,\n                                                                        type: 'plugin',\n                                                                });\n                                                        }\n                                                }\n\n                                                const self = this;\n                                                const after_download_callback = function() {\n                                                        // Check invalid themes\n                                                        let all_thmes_are_invalid = false;\n                                                        const failed_download_themes_count =\n                                                                files_download_states.failed_theme_downloads.length;\n                                                        if (\n                                                                new_theme_count &&\n                                                                failed_download_themes_count === new_theme_count\n                                                        ) {\n                                                                all_thmes_are_invalid = true;\n                                                        }\n\n                                                        // Check invalid plugin\n                                                        let all_plugins_are_invalid = false;\n                                                        const failed_download_plugins_count =\n                                                                files_download_states.failed_plugin_downloads.length;\n                                                        if (\n                                                                new_plugin_count &&\n                                                                failed_download_plugins_count === new_plugin_count\n                                                        ) {\n                                                                all_plugins_are_invalid = true;\n                                                        }\n\n                                                        let all_products_are_invalid = false;\n                                                        if (all_thmes_are_invalid && all_plugins_are_invalid) {\n                                                                all_products_are_invalid = true;\n                                                        }\n\n                                                        $(form_response_page)\n                                                                .find(\n                                                                        '.account-connect__form-btn .account-connect__btn'\n                                                                )\n                                                                .remove();\n\n                                                        const finish_btn_label = all_products_are_invalid\n                                                                ? 'Close'\n                                                                : 'Finish';\n                                                        const finish_btn = `<button type=\"button\" class=\"account-connect__btn reload\">${finish_btn_label}</button>`;\n                                                        $(form_response_page)\n                                                                .find('.account-connect__form-btn')\n                                                                .append(finish_btn);\n                                                };\n\n                                                if (downloading_files.length) {\n                                                        download_files(downloading_files, 0, after_download_callback);\n                                                }\n                                        });\n                                }\n                        },\n\n                        error(error) {\n                                console.log(error);\n                                is_sending = false;\n                                submit_button.attr('disabled', false);\n                                submit_button.find('.atbdp-loading').remove();\n                        },\n                });\n        });\n\n        // Reload Button\n        $('body').on('click', '.reload', function(e) {\n                e.preventDefault();\n                console.log('reloading...');\n                location.reload();\n        });\n\n        // Extension Update Button\n        $('.ext-update-btn').on('click', function(e) {\n                e.preventDefault();\n\n                $(this).prop('disabled', true);\n\n                const plugin_key = $(this).data('key');\n                const button_default_html = $(this).html();\n\n                const form_data = {\n                        action: 'atbdp_update_plugins',\n                };\n\n                if (plugin_key) {\n                        form_data.plugin_key = plugin_key;\n                }\n\n                const self = this;\n\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                const icon = '<i class=\"fas fa-circle-notch fa-spin\"></i> Updating';\n                                $(self).html(icon);\n                        },\n                        success(response) {\n                                console.log(response);\n\n                                if (response.status.success) {\n                                        $(self).html('Updated');\n\n                                        location.reload();\n                                } else {\n                                        $(self).html(button_default_html);\n                                        alert(response.status.massage);\n                                }\n                        },\n                        error(error) {\n                                console.log(error);\n                                $(self).html(button_default_html);\n                                $(this).prop('disabled', false);\n                        },\n                });\n        });\n\n        // Install Button\n        $('.file-install-btn').on('click', function(e) {\n                e.preventDefault();\n\n                if ($(this).hasClass('in-progress')) {\n                        console.log('Wait...');\n                        return;\n                }\n\n                const data_key = $(this).data('key');\n                const data_type = $(this).data('type');\n                const form_data = {\n                        action: 'atbdp_install_file_from_subscriptions',\n                        item_key: data_key,\n                        type: data_type,\n                };\n                const btn_default_html = $(this).html();\n\n                ext_is_installing = true;\n                const self = this;\n                $(this).prop('disabled', true);\n                $(this).addClass('in-progress');\n\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                $(self).html('Installing');\n                                const icon = '<i class=\"fas fa-circle-notch fa-spin\"></i> ';\n\n                                $(self).prepend(icon);\n                        },\n                        success(response) {\n                                console.log(response);\n\n                                if (response.status && !response.status.success && response.status.message) {\n                                        alert(response.status.message);\n                                }\n\n                                if (response.status && response.status.success) {\n                                        $(self).html('Installed');\n                                } else {\n                                        $(self).html('Failed');\n                                }\n\n                                location.reload();\n                        },\n                        error(error) {\n                                console.log(error);\n                                $(this).prop('disabled', false);\n                                $(this).removeClass('in-progress');\n\n                                $(self).html(btn_default_html);\n                        },\n                });\n        });\n\n        // Purchase refresh btn\n        $('.purchase-refresh-btn').on('click', function(e) {\n                e.preventDefault();\n\n                const purchase_refresh_btn_wrapper = $(this).parent();\n                const auth_section = $('.et-auth-section');\n\n                $(purchase_refresh_btn_wrapper).animate(\n                        {\n                                width: 0,\n                        },\n                        500\n                );\n\n                $(auth_section).animate(\n                        {\n                                width: 290,\n                        },\n                        500\n                );\n        });\n\n        // et-close-auth-btn\n        $('.et-close-auth-btn').on('click', function(e) {\n                e.preventDefault();\n\n                const auth_section = $('.et-auth-section');\n                const purchase_refresh_btn_wrapper = $('.purchase-refresh-btn-wrapper');\n\n                $(purchase_refresh_btn_wrapper).animate(\n                        {\n                                width: 182,\n                        },\n                        500\n                );\n\n                $(auth_section).animate(\n                        {\n                                width: 0,\n                        },\n                        500\n                );\n        });\n\n        // purchase-refresh-form\n        $('#purchase-refresh-form').on('submit', function(e) {\n                e.preventDefault();\n                // console.log( 'purchase-refresh-form' );\n\n                const submit_btn = $(this).find('button[type=\"submit\"]');\n                const btn_default_html = submit_btn.html();\n                const close_btn = $(this).find('.et-close-auth-btn');\n                const form_feedback = $(this).find('.atbdp-form-feedback');\n\n                $(submit_btn).prop('disabled', true);\n                $(close_btn).addClass('atbdp-d-none');\n\n                const password = $(this)\n                        .find('input[name=\"password\"]')\n                        .val();\n\n                const form_data = {\n                        action: 'atbdp_refresh_purchase_status',\n                        password,\n                };\n\n                form_feedback.html('');\n\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                $(submit_btn).html('<i class=\"fas fa-circle-notch fa-spin\"></i>');\n                        },\n                        success(response) {\n                                console.log(response);\n\n                                if (response.status.message) {\n                                        var feedback_type = response.status.success ? 'success' : 'danger';\n                                        var message = `<span class=\"atbdp-text-${feedback_type}\">${\n                                                response.status.message\n                                        }</span>`;\n\n                                        form_feedback.html(message);\n                                }\n\n                                if (response.status.massage) {\n                                        var feedback_type = response.status.success ? 'success' : 'danger';\n                                        var message = `<span class=\"atbdp-text-${feedback_type}\">${\n                                                response.status.massage\n                                        }</span>`;\n\n                                        form_feedback.html(message);\n                                }\n\n                                if (!response.status.success) {\n                                        $(submit_btn).html(btn_default_html);\n                                        $(submit_btn).prop('disabled', false);\n                                        $(close_btn).removeClass('atbdp-d-none');\n\n                                        if (response.status.reload) {\n                                                location.reload();\n                                        }\n                                } else {\n                                        location.reload();\n                                }\n                        },\n                        error(error) {\n                                console.log(error);\n\n                                $(submit_btn).prop('disabled', false);\n                                $(submit_btn).html(btn_default_html);\n\n                                $(close_btn).removeClass('atbdp-d-none');\n                        },\n                });\n        });\n\n        // Logout\n        $('.subscriptions-logout-btn').on('click', function(e) {\n                e.preventDefault();\n\n                const hard_logout = $(this).data('hard-logout');\n\n                const form_data = {\n                        action: 'atbdp_close_subscriptions_sassion',\n                        hard_logout,\n                };\n\n                const self = this;\n\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                $(self).html('<i class=\"fas fa-circle-notch fa-spin\"></i> Logging out');\n                        },\n                        success(response) {\n                                // console.log( response );\n                                location.reload();\n                        },\n                        error(error) {\n                                console.log(error);\n                                $(this).prop('disabled', false);\n                                $(this).removeClass('in-progress');\n\n                                $(self).html(btn_default_html);\n                        },\n                });\n\n                // atbdp_close_subscriptions_sassion\n        });\n\n        // Form Actions\n        // Bulk Actions - My extensions form\n        var is_bulk_processing = false;\n        $('#atbdp-my-extensions-form').on('submit', function(e) {\n                e.preventDefault();\n\n                if (is_bulk_processing) {\n                        return;\n                }\n\n                const task = $(this)\n                        .find('select[name=\"bulk-actions\"]')\n                        .val();\n                const plugins_items = [];\n\n                $(this)\n                        .find('.extension-name-checkbox')\n                        .each(function(i, e) {\n                                const is_checked = $(e).is(':checked');\n                                const id = $(e).attr('id');\n\n                                if (is_checked) {\n                                        plugins_items.push(id);\n                                }\n                        });\n\n                if (!task.length || !plugins_items.length) {\n                        return;\n                }\n\n                const self = this;\n                is_bulk_processing = true;\n                form_data = {\n                        action: 'atbdp_plugins_bulk_action',\n                        task,\n                        plugin_items: plugins_items,\n                };\n\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                $(self)\n                                        .find('button[type=\"submit\"]')\n                                        .prepend(\n                                                '<span class=\"atbdp-icon\"><span class=\"fas fa-circle-notch fa-spin\"></span></span> '\n                                        );\n                        },\n                        success(response) {\n                                // console.log( response );\n                                $(self)\n                                        .find('button[type=\"submit\"] .atbdp-icon')\n                                        .remove();\n                                location.reload();\n                        },\n                        error(error) {\n                                console.log(error);\n                                uninstalling = false;\n                        },\n                });\n\n                // console.log( task, plugins_items );\n        });\n\n        // Bulk Actions - My extensions form\n        var is_bulk_processing = false;\n        $('#atbdp-my-subscribed-extensions-form').on('submit', function(e) {\n                e.preventDefault();\n\n                if (is_bulk_processing) {\n                        return;\n                }\n\n                const self = this;\n                const task = $(this)\n                        .find('select[name=\"bulk-actions\"]')\n                        .val();\n                const plugins_items = [];\n\n                $(self)\n                        .find('.extension-name-checkbox')\n                        .each(function(i, e) {\n                                const is_checked = $(e).is(':checked');\n                                const id = $(e).attr('id');\n\n                                if (is_checked) {\n                                        plugins_items.push(id);\n                                }\n                        });\n\n                if (!task.length || !plugins_items.length) {\n                        return;\n                }\n\n                // Before Install\n                $(this)\n                        .find('.file-install-btn')\n                        .addClass('in-progress');\n                $(this)\n                        .find('.file-install-btn')\n                        .prop('disabled', true);\n\n                const loading_icon =\n                        '<span class=\"atbdp-icon\"><span class=\"fas fa-circle-notch fa-spin\"></span></span> ';\n                $(this)\n                        .find('button[type=\"submit\"]')\n                        .prop('disabled', true);\n                $(this)\n                        .find('button[type=\"submit\"]')\n                        .prepend(loading_icon);\n\n                var install_plugins = function(plugins, counter, callback) {\n                        if (counter > plugins.length - 1) {\n                                if (callback) {\n                                        callback();\n                                }\n                                return;\n                        }\n\n                        const current_item = plugins[counter];\n                        const action_wrapper = $(`.ext-action-${current_item}`);\n                        const install_btn = action_wrapper.find('.file-install-btn');\n                        const next_index = counter + 1;\n\n                        // console.log( {counter, next_index, current_item, action_wrapper, install_btn} );\n\n                        console.log({ current_item });\n\n                        form_data = {\n                                action: 'atbdp_install_file_from_subscriptions',\n                                item_key: current_item,\n                                type: 'plugin',\n                        };\n\n                        jQuery.ajax({\n                                type: 'post',\n                                url: atbdp_admin_data.ajaxurl,\n                                data: form_data,\n                                beforeSend() {\n                                        install_btn.html(\n                                                '<span class=\"atbdp-icon\"><span class=\"fas fa-circle-notch fa-spin\"></span></span> Installing'\n                                        );\n                                },\n                                success(response) {\n                                        console.log(response);\n\n                                        if (response.status.success) {\n                                                install_btn.html('Installed');\n                                        } else {\n                                                install_btn.html('Failed');\n                                        }\n\n                                        install_plugins(plugins, next_index, callback);\n                                },\n                                error(error) {\n                                        console.log(error);\n                                },\n                        });\n                };\n\n                const after_plugins_install = function() {\n                        console.log('Done');\n                        is_bulk_processing = false;\n\n                        $(self)\n                                .find('button[type=\"submit\"]')\n                                .find('.atbdp-icon')\n                                .remove();\n                        $(self)\n                                .find('button[type=\"submit\"]')\n                                .prop('disabled', false);\n\n                        location.reload();\n                };\n\n                is_bulk_processing = true;\n                install_plugins(plugins_items, 0, after_plugins_install);\n        });\n\n        // Ext Actions | Uninstall\n        var uninstalling = false;\n        $('.ext-action-uninstall').on('click', function(e) {\n                e.preventDefault();\n                if (uninstalling) {\n                        return;\n                }\n\n                const data_target = $(this).data('target');\n\n                const form_data = {\n                        action: 'atbdp_plugins_bulk_action',\n                        task: 'uninstall',\n                        plugin_items: [data_target],\n                };\n\n                const self = this;\n                uninstalling = true;\n\n                jQuery.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                $(self).prepend(\n                                        '<span class=\"atbdp-icon\"><span class=\"fas fa-circle-notch fa-spin\"></span></span> '\n                                );\n                        },\n                        success(response) {\n                                // console.log( response );\n                                $(self)\n                                        .closest('.ext-action')\n                                        .find('.ext-action-drop')\n                                        .removeClass('active');\n                                location.reload();\n                        },\n                        error(error) {\n                                console.log(error);\n                                uninstalling = false;\n                        },\n                });\n        });\n\n        // Bulk checkbox toggle\n        $('#atbdp-my-extensions-form')\n                .find('input[name=\"select-all\"]')\n                .on('change', function(e) {\n                        const is_checked = $(this).is(':checked');\n\n                        if (is_checked) {\n                                $('#atbdp-my-extensions-form')\n                                        .find('.extension-name-checkbox')\n                                        .prop('checked', true);\n                        } else {\n                                $('#atbdp-my-extensions-form')\n                                        .find('.extension-name-checkbox')\n                                        .prop('checked', false);\n                        }\n                });\n\n        $('#atbdp-my-subscribed-extensions-form')\n                .find('input[name=\"select-all\"]')\n                .on('change', function(e) {\n                        const is_checked = $(this).is(':checked');\n\n                        if (is_checked) {\n                                $('#atbdp-my-subscribed-extensions-form')\n                                        .find('.extension-name-checkbox')\n                                        .prop('checked', true);\n                        } else {\n                                $('#atbdp-my-subscribed-extensions-form')\n                                        .find('.extension-name-checkbox')\n                                        .prop('checked', false);\n                        }\n                });\n\n        //\n        $('.ext-action-drop').each(function(i, e) {\n                $(e).on('click', function(elm) {\n                        elm.preventDefault();\n\n                        if ($(this).hasClass('active')) {\n                                $(this).removeClass('active');\n                        } else {\n                                $('.ext-action-drop').removeClass('active');\n                                $(this).addClass('active');\n                        }\n                });\n        });\n\n        // Theme Activation\n        let theme_is_activating = false;\n        $('.theme-activate-btn').on('click', function(e) {\n                e.preventDefault();\n\n                if (theme_is_activating) {\n                        return;\n                }\n\n                const data_target = $(this).data('target');\n                if (!data_target) {\n                        return;\n                }\n                if (!data_target.length) {\n                        return;\n                }\n\n                const form_data = {\n                        action: 'atbdp_activate_theme',\n                        theme_stylesheet: data_target,\n                };\n\n                const self = this;\n                theme_is_activating = true;\n\n                $.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                $(self).prepend(\n                                        '<span class=\"atbdp-icon\"><span class=\"fas fa-circle-notch fa-spin\"></span></span> '\n                                );\n                        },\n                        success(response) {\n                                console.log({ response });\n                                $(self)\n                                        .find('.atbdp-icon')\n                                        .remove();\n\n                                if (response.status && response.status.success) {\n                                        location.reload();\n                                }\n                        },\n                        error(error) {\n                                console.log({ error });\n                                theme_is_activating = false;\n                                $(self)\n                                        .find('.atbdp-icon')\n                                        .remove();\n                        },\n                });\n        });\n\n        // Theme Update\n        $('.theme-update-btn').on('click', function(e) {\n                e.preventDefault();\n\n                $(this).prop('disabled', true);\n                if ($(this).hasClass('in-progress')) {\n                        return;\n                }\n\n                const theme_stylesheet = $(this).data('target');\n                const button_default_html = $(this).html();\n                const form_data = { action: 'atbdp_update_theme' };\n\n                if (theme_stylesheet) {\n                        form_data.theme_stylesheet = theme_stylesheet;\n                }\n\n                const self = this;\n                $(this).addClass('in-progress');\n\n                $.ajax({\n                        type: 'post',\n                        url: atbdp_admin_data.ajaxurl,\n                        data: form_data,\n                        beforeSend() {\n                                $(self).html(\n                                        '<span class=\"atbdp-icon\"><span class=\"fas fa-circle-notch fa-spin\"></span></span> Updating'\n                                );\n                        },\n                        success(response) {\n                                console.log({ response });\n\n                                if (response.status && response.status.success) {\n                                        $(self).html('Updated');\n                                        location.reload();\n                                } else {\n                                        $(self).removeClass('in-progress');\n                                        $(self).html(button_default_html);\n                                        $(self).prop('disabled', false);\n\n                                        alert(response.status.message);\n                                }\n                        },\n                        error(error) {\n                                console.log({ error });\n                                $(self).removeClass('in-progress');\n                                $(self).html(button_default_html);\n                                $(self).prop('disabled', false);\n                        },\n                });\n        });\n})(jQuery);\n"],"sourceRoot":""}