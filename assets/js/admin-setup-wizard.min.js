!function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=315)}({315:function(e,t){jQuery(document).ready((function(e){var t=e("#atbdp_dummy_form"),i=0,r="";e(t).on("submit",(function(t){t.preventDefault(),e(".atbdp_dummy_body").fadeOut(300),e(".atbdp-c-footer").fadeOut(300),e(".directorist-importer__importing").fadeIn(300),e(this).parent(".csv-fields").fadeOut(300),e(".atbdp-mapping-step").removeClass("active").addClass("done"),e(".atbdp-progress-step").addClass("active");var o=0;!function t(){var n=new FormData;n.append("action","atbdp_dummy_data_import"),n.append("file",e("#dummy_csv_file").val()),n.append("limit",e("#atbdp-listings-to-import").val()),n.append("image",e("#atbdp-import-image").is(":checked")?1:""),n.append("delimiter",","),n.append("update_existing",""),n.append("position",i),n.append("directorist_nonce",import_export_data.directorist_nonce),n.append("pre_mapped",!0),e.ajax({method:"POST",processData:!1,contentType:!1,url:import_export_data.ajaxurl,data:n,success:function(n){n.error?console.log({response:n}):(n.imported,n.failed,r=n.url,e(".importer-details").html("Imported ".concat(n.next_position," out of ").concat(n.total)),e(".directorist-importer-progress").val(n.percentage),"100"!=n.percentage&&o<150?(i=n.next_position,t(),o++):window.location=n.url,e('input[name="save_step"]').addClass("btn-hide"),e(".directorist-importer-length").css("width",n.percentage+"%"))},error:function(e){window.location=r}})}()})),e(".directorist-submit-importing").on("click",(function(t){t.preventDefault(),e(this).addClass("loading"),e(".directorist_dummy_data_log").text("Preparing data..."),e(".directorist-setup-wizard__content").addClass("hidden"),e(".middle-content-import").removeClass("hidden");var i=0;!function t(){var r={action:"directorist_setup_wizard",directorist_nonce:import_export_data.directorist_nonce};e('input[name="directory_type_settings"]').is(":checked")&&(r.directory_type_settings=!0),e('input[name="share_non_sensitive_data"]').is(":checked")&&(r.share_non_sensitive_data=!0),e('input[name="import_listings"]').is(":checked")&&(r.import_listings=!0),e('input[name="required_plugins"]').is(":checked")&&(r.required_plugins=!0),r.counter=i,e.ajax({method:"POST",url:import_export_data.ajaxurl,data:r,success:function(r){console.log(r),e(".directorist-import-text-inner").empty().text(r.log),r.completed&&(e(".directorist-import-text-inner").empty().text(r.log),window.location=r.url),i++;var o=r.percentage;e(".directorist-import-progress-bar").css("width",o+"%"),e(".directorist-importer-progress").val(o),e(".directorist-import-progress-info-precent").text(o+"%"),t()}})}()})),e("body").on("keyup",".directorist-location-js",(function(t){t.preventDefault(),e(this).val().length>0?e(this).parent(".directorist-search-field").addClass("input-is-focused"):e(this).parent(".directorist-search-field").removeClass("input-is-focused")})),e("body").on("click",".directorist-setup-wizard__box__content__input--clear",(function(t){t.preventDefault(),e(this).siblings("input").val(""),e(this).parent(".directorist-search-field").removeClass("input-is-focused")})),e(".atbdp-sw-gmap-key").hide(),e("#select_map").on("change",(function(t){"google"===e(this).val()?e(".atbdp-sw-gmap-key").show():e(".atbdp-sw-gmap-key").hide()})),"google"===e("#select_map").val()?e(".atbdp-sw-gmap-key").show():e(".atbdp-sw-gmap-key").hide(),e(".atbdp-sw-featured-listing").hide(),e("#enable_monetization").on("change",(function(){!0===e(this).prop("checked")?e(".atbdp-sw-featured-listing").show():e(".atbdp-sw-featured-listing").hide()})),!0===e("#enable_monetization").prop("checked")?e(".atbdp-sw-featured-listing").show():e(".atbdp-sw-featured-listing").hide(),e(".atbdp-sw-listing-price").hide(),e("#enable_featured_listing").on("change",(function(){!0===e(this).prop("checked")?e(".atbdp-sw-listing-price").show():e(".atbdp-sw-listing-price").hide()})),!0===e("#enable_monetization").prop("checked")?e(".atbdp-sw-listing-price").show():e(".atbdp-sw-listing-price").hide(),e("#select_map").select2({minimumResultsForSearch:-1}),e("#atbdp-listings-to-import").select2({minimumResultsForSearch:-1}),e("#others-listing").on("change",(function(){e(this).is(":checked")?e(".directorist-setup-wizard__checkbox--custom").slideDown():e(".directorist-setup-wizard__checkbox--custom").slideUp()}));var o=document.querySelectorAll('.directorist-setup-wizard__checkbox input[type="checkbox"]'),n=document.querySelector(".directorist-setup-wizard__counter .directorist-setup-wizard__counter__desc"),s=document.querySelector(".directorist-setup-wizard__notice"),a=document.querySelector(".directorist-setup-wizard__next .directorist-setup-wizard__btn--next"),d=document.querySelector(".directorist-setup-wizard__counter .selected_count"),c=document.querySelector(".directorist-setup-wizard__counter .max_count"),p=function(){var e=Array.from(o).filter((function(e){return e.checked})).length;d.textContent=e,c.textContent=5,e<1?(s.style.display="block",a.disabled=!0):(s.style.display="none",a.disabled=!1),e>=5?(n.style.display="block",o.forEach((function(e){e.checked||(e.disabled=!0)}))):(n.style.display="none",o.forEach((function(e){e.disabled=!1})))};o.forEach((function(e){e.addEventListener("change",p)})),p()}))}});